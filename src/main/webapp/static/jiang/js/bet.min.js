function refreshVerify() {
	$("#CheckCode").attr("src", "/user/createvalidatecode?r=" + Math.random())
}
var user = {
	siteurl: "http://127.0.0.1:8080/lottery",
	cmsurl: "",
	resurl: "",
	info: {
		IsRebate: false,
		isVip: false,
		vipLevel: "1",
		vipNext: {
			1: 500,
			2: 1000,
			3: 2000,
			4: 4000,
			5: 8000,
			6: 12000,
			7: 16000,
			8: 20000,
			9: 20000,
			max: 20000
		},
		accountNext: [0, 25, 55, 75, 99],
		isAuthentication: false,
		growthl: 0,
		accountl: 0,
		balance: 0,
		rbbalance: 0,
		isAlipay: false,
		isGoldAlipay: false,
		displayName: "",
		userId: "",
		isNeedBetPwd: false,
		isQQ: false,
		Figureurl: "",
		unReadMail: 0,
		doudou: 0,
		MaxLevelName: "",
		IsExperter: false,
		IsBetHM: false,
		reset: function() {
			this.isVip = false;
			this.vipLevel = "0";
			this.balance = 0;
			this.rbbalance = 0;
			this.isAlipay = false;
			this.isGoldAlipay = false;
			this.displayName = "";
			this.userId = "";
			this.isNeedBetPwd = false;
			this.isQQ = false;
			this.Figureurl = "";
			this.unReadMail = 0;
			this.IsRebate = false
		}
	},
	LoginCallBack: function() {},
	refresh: function(a) {
		$.getJSON(user.siteurl + "/user/info?r=" + Math.random().toFixed(5), function(b) {
			if (b.IsSuccess) {
				user.info.isVip = b.isVip;
				user.info.vipLevel = b.vipLevel;
				user.info.IsRebate = b.IsRebate;
				user.info.isAuthentication = b.isAuthentication;
				user.info.growthl = b.growthl;
				user.info.accountl = b.accountl;
				user.info.balance = b.balance;
				user.info.displayName = b.displayName;
				user.info.userId = b.userId;
				user.info.isNeedBetPwd = b.isNeedBetPwd;
				user.info.rbbalance = b.rbbalance;
				user.info.unReadMail = b.unReadMail;
				user.info.MaxLevelName = b.MaxLevelName;
				user.info.IsExperter = b.IsExperter;
				user.info.IsBetHM = b.IsBetHM;
				user.afterLogin()
			} else {
				user.info.reset();
				user.notLogin()
			}
			if (a != null && typeof(a) == "function") {
				a()
			}
		})
	},
	afterLogin: function() {
		var f = document.getElementById("toptray_login");
		var g = document.getElementById("user_account");
		var a = document.getElementById("bet_user_account");
		var b = document.getElementById("f_conment_con");
		var d = document.getElementById("lucyk_setuserinfo");
		var e = document.getElementById("myindex");
		var j = user.info.displayName.length > 10 ? user.info.displayName.substring(0, 10) + "..." : user.info.displayName;
		if (f) {
			$(".toptray-right").show();
			f.style.display = "block";
			document.getElementById("toptray_not_login").style.display = "none";
			$("#toptray_username").attr("href", "/blog/standings/" + user.info.userId).html(j);
			$("#header_user_money_hidden").val((user.info.balance > 10000 ? (user.info.balance / 10000).toFixed("2") + "万" : user.info.balance.toFixed(2)))
		}
		if (g) {
			var i = 1;
			if (user.info.MaxLevelName == "百元") {
				i = 10
			} else {
				if (user.info.MaxLevelName == "彩民") {
					i = 1
				} else {
					if (user.info.MaxLevelName == "千元") {
						i = 2
					} else {
						if (user.info.MaxLevelName == "万元") {
							i = 3
						} else {
							if (user.info.MaxLevelName == "十万") {
								i = 4
							} else {
								if (user.info.MaxLevelName == "百万") {
									i = 5
								} else {
									if (user.info.MaxLevelName == "千万" || user.info.MaxLevelName == "亿元") {
										i = 7
									}
								}
							}
						}
					}
				}
			}
			$("#login_middle").show();
			$("#login_middle_img").addClass("hmmr_leve" + i);
			$("#login_middle_username").html(j);
			$("#login_middle_vipLevel").html(user.info.vipLevel);
			$("#not_login_middle").hide()
		}
		if (a) {
			c = [];
			c[c.length] = '<div class="logininfo"><strong class="logininfo_name">';
			c[c.length] = "<b>“</b>" + user.info.displayName + "<b>”</b>";
			c[c.length] = '</strong>，您的账户余额<span id="useralid_money" class="fred">' + user.info.balance.toFixed(2) + "</span> 元";
			c[c.length] = '<a href="/member/pay" target="_blank" class="user_ico">[<b>账户充值</b>]</a><a href="javascript:user.logOut(true);" class="loginout">[退出]</a></div>';
			a.innerHTML = c.join("")
		}
		if (b) {
			c = [];
			c[c.length] = ' <div class="f_conment">';
			c[c.length] = '<textarea id="comment_text" class="input_con"></textarea>';
			c[c.length] = ' <div class="putCode" id="putCode">';
			c[c.length] = '<span class="reg_label">';
			c[c.length] = '<label for="Captcha">';
			c[c.length] = " 验证码：</label></span>";
			c[c.length] = '<input type="text" maxlength="4" autocomplete="off" name="verifycode" style="ime-mode: disabled" ';
			c[c.length] = 'id="verifycode" class="reg_in_text">';
			c[c.length] = '<div class="reg_captcha" style="display: inline-block; margin-left: 6px;">';
			c[c.length] = '<img onclick="refreshVerify()" alt="点击刷新" id="CheckCode" src="/user/createvalidatecode"';
			c[c.length] = 'style="vertical-align: -8px;">';
			c[c.length] = '看不清？<a href="javascript:refreshVerify()" href="#" style="line-height: 34px">换一张</a></div>';
			c[c.length] = "</div>";
			c[c.length] = '<div id="comment_tip" class="f_login_bf tip" style="display: none;">';
			c[c.length] = "</div>";
			c[c.length] = '<input type="hidden" id="hduser" name="hduser" value="' + user.info.userId + '"/>';
			c[c.length] = '<a id="comment_btn" class="btn_orange btn_orange_h45 btn_yahei f_submit" style="width: 120px;';
			c[c.length] = 'height: 45px;" href="javascript:;">发表评论</a>';
			c[c.length] = " </div>";
			b.innerHTML = c.join("")
		}
		if (d) {
			var c = [];
			c[c.length] = '<label><span style="display: block; margin-top: 26px; font-size: 14px;">欢迎您！<i style="color: #37C608">"' + user.info.displayName + '"!</i></span></label>';
			d.innerHTML = c.join("")
		}
		if (e) {
			$("#myindex").attr("checklg", "/baodan/redanauthorhome/" + user.info.userId)
		}
	},
	notLogin: function() {
		var b = document.getElementById("toptray_login");
		var c = document.getElementById("user_account");
		var a = document.getElementById("bet_user_account");
		if (b) {
			$(".toptray-right").show();
			b.style.display = "none";
			document.getElementById("toptray_not_login").style.display = "none";
			$("#toptray_username").html("");
			$("#header_user_money_hidden").val("*****")
		}
		if (c) {
			c.innerHTML = '<div class="index_login"><span class="public_ad"></span><div class="no_logined"><p><a href="/user/register" class="btn_register">免费注册</a></p><p style="text-align: right"><a href="/user/forget" style="color: #666">忘记密码</a>&nbsp;&nbsp;<a id="login" class="btn_login" href="javascript:void 0">马上登录</a></p></div></div>'
		}
		if (a) {
			a.innerHTML = '<div class="logininfo loginout">您还没有登录，请先 <a onclick="betUserLogin.login()" style="color: #ff0000" href="javascript:void(0)">登录</a>后再购买</div>'
		}
	},
	GetUserGrowthPoint: function() {
		var d = user.info.growthl;
		var e = 0;
		var a = 0;
		var c = 0;
		var b = 0;
		if (d <= 500) {
			e = (parseFloat(d) / 500) * 100;
			a = 500 / 10;
			c = 0;
			b = 500
		} else {
			if (d > 500 && d <= 1000) {
				e = (parseFloat(d - 500) / 500) * 100;
				a = 500 / 10;
				c = 500;
				b = 1000
			} else {
				if (d > 1000 && d <= 2000) {
					e = (parseFloat(d - 1000) / 1000) * 100;
					a = 1000 / 10;
					c = 1000;
					b = 2000
				} else {
					if (d > 2000 && d <= 4000) {
						e = (parseFloat(d - 2000) / 2000) * 100;
						a = 2000 / 10;
						c = 2000;
						b = 4000
					} else {
						if (d > 4000 && d <= 6000) {
							e = (parseFloat(d - 4000) / 2000) * 100;
							a = 2000 / 10;
							c = 4000;
							b = 6000
						} else {
							if (d > 6000 && d <= 8000) {
								e = (parseFloat(d - 6000) / 2000) * 100;
								a = 2000 / 10;
								c = 6000;
								b = 8000
							} else {
								if (d > 8000 && d <= 10000) {
									e = (parseFloat(d - 8000) / 2000) * 100;
									a = 2000 / 10;
									c = 8000;
									b = 10000
								} else {
									if (d > 10000 && d <= 12000) {
										e = (parseFloat(d - 10000) / 2000) * 100;
										a = 2000 / 10;
										c = 10000;
										b = 12000
									} else {
										if (d > 12000 && d <= 16000) {
											e = (parseFloat(d - 12000) / 4000) * 100;
											a = 4000 / 10;
											c = 12000;
											b = 16000
										} else {
											if (d > 16000 && d <= 20000) {
												e = (parseFloat(d - 16000) / 4000) * 100;
												a = 4000 / 10;
												c = 16000;
												b = 20000
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
		return {
			width: e,
			lilength: a,
			minGrowth: c,
			maxGrowth: b
		}
	},
	GetUserLevelName: function(a) {
		var b = 0;
		if (a == "百元") {
			b = 10
		} else {
			if (a == "幸运彩民") {
				b = 1
			} else {
				if (a == "千元") {
					b = 2
				} else {
					if (a == "万元") {
						b = 3
					} else {
						if (a == "十万") {
							b = 4
						} else {
							if (a == "百万") {
								b = 5
							} else {
								if (a == "千万" || a == "亿元") {
									b = 7
								}
							}
						}
					}
				}
			}
		}
		return b
	},
	GetGrowthlWidth: function(c) {
		var d = 0,
			b = 0,
			a = 0;
		if (c < 500) {
			b = 500 - c;
			d = c * 0.192
		} else {
			if (c >= 500 && c < 1000) {
				b = 1000 - c;
				a = 2;
				d = (c - 500) * 0.192
			} else {
				if (c >= 1000 && c < 2000) {
					b = 2000 - c;
					a = 10;
					d = (c - 1000) * 0.096
				} else {
					if (c >= 2000 && c < 4000) {
						b = 4000 - c;
						a = 20;
						d = (c - 2000) * 0.048
					} else {
						if (c >= 4000 && c < 8000) {
							b = 8000 - c;
							a = 88;
							d = (c - 4000) * 0.024
						} else {
							if (c >= 8000 && c < 12000) {
								b = 12000 - c;
								d = (c - 8000) * 0.024
							} else {
								if (c >= 12000 && c < 16000) {
									b = 16000 - c;
									d = (c - 12000) * 0.024
								} else {
									if (c >= 16000 && c < 20000) {
										b = 20000 - c;
										d = (c - 16000) * 0.024
									} else {
										if (c >= 20000) {
											d = 96
										}
									}
								}
							}
						}
					}
				}
			}
		}
		return d + "|" + b + "|" + a
	},
	isLogin: function(a) {
		var b = user.siteurl + "/user/islogin?r=" + Math.random();
		$.get(b, function(c) {
			a(c)
		})
	},
	GetQueryString: function(a) {
		var c = new RegExp("(^|&)" + a + "=([^&]*)(&|$)");
		var b = window.location.search.substr(1).match(c);
		if (b != null) {
			return unescape(b[2])
		}
		return ""
	},
	reloadUser: function() {
		var a = user.siteurl + "/user/reloaduser?pid=" + user.GetQueryString("pid") + "&r=" + Math.random();
		$.get(a, function(b) {
			if (b.IsSuccess) {
				user.info.isVip = b.isVip;
				user.info.vipLevel = b.vipLevel;
				user.info.isAuthentication = b.isAuthentication;
				user.info.balance = b.balance;
				user.info.isAlipay = b.isAlipay;
				user.info.isGoldAlipay = b.isGoldAlipay;
				user.info.displayName = b.displayName;
				user.info.userId = b.userId;
				user.info.isNeedBetPwd = b.isNeedBetPwd;
				user.info.rbbalance = b.rbbalance;
				user.info.isQQ = b.isQQ;
				user.info.Figureurl = b.Figureurl;
				user.info.unReadMail = b.unReadMail;
				user.info.doudou = b.doudou;
				user.info.MaxLevelName = b.MaxLevelName;
				user.info.IsExperter = b.IsExperter;
				user.info.IsBetHM = b.IsBetHM;
				user.info.growthl = b.growthl;
				$("#yemoney").html(user.info.balance > 10000 ? (user.info.balance / 10000).toFixed("2") + "万元" : user.info.balance.toFixed(2) + "元");
				$("#hbmoney").html(user.info.rbbalance.toFixed(2) + "元");
				user.afterLogin()
			}
		})
	},
	logOut: function(a) {
		$.post(user.siteurl + "/user/LogOutUser?r=" + Math.random(), function(b) {
			if (b.IsSuccess) {
				if (a) {
					window.location.reload()
				}
				user.refresh()
			} else {
				alertTip(b.Message)
			}
		})
	},
	attentionLogin: function(a, b) {
		user.isLogin(function(c) {
			if (!c) {
				user.LoginCallBack = function() {
					$.post("/member/AttentAndGd", {
						User: b
					}, function(d) {
						if (d.Issucse) {
							$("#yes_attention").show();
							$("#no_atention").hide();
							$(".qxgz_box_c").hide()
						} else {
							user.attentionUser(a, b)
						}
					})
				};
				loginDialog.Show();
				$("#userName").focus();
				return false
			} else {
				$.post("/member/AttentAndGd", {
					User: b
				}, function(d) {
					if (d.Issucse) {
						$("#yes_attention").show();
						$("#no_atention").hide();
						$(".qxgz_box_c").hide()
					} else {
						user.attentionUser(a, b)
					}
				})
			}
		})
	},
	attentionUser: function(a, c) {
		var b = "/member/attentionExec/" + a;
		$.post(b, {
			attentionUserId: c
		}, function(d) {
			if (d.IsSuccess) {
				alertTip(d.Message, "ok");
				$("#yes_attention").show();
				$("#no_atention").hide();
				$(".qxgz_box_c").hide();
				$("#boxAlertOkButton").click(function() {
					alertClose();
					location.href = location.href
				})
			} else {
				alertTip(d.Message, "err");
				return false
			}
		})
	},
	cancelAttentionUser: function(a, c) {
		var b = "/member/attentionExec/" + a;
		$.post(b, {
			attentionUserId: c
		}, function(d) {
			if (d.IsSuccess) {
				setTimeout(function() {
					location.href = location.href
				}, 500)
			} else {
				alert(d.Message, "warning");
				return false
			}
		})
	}
};
user.reloadUser();

function setMenuClass(a) {
	$.each($(a + " li"), function(c, d) {
		var b = $(d).find("a");
		if (location.href.indexOf(b.attr("href")) >= 0) {
			$(a + " li a").removeClass("on");
			b.addClass("on")
		} else {
			b.removeClass("on")
		}
	})
}
var lightLib = {
	isIE: !! window.ActiveXObject,
	isIE6: !! window.ActiveXObject && !window.XMLHttpRequest,
	isIE10: document.documentMode == 10,
	$$: function(a) {
		return "string" == typeof a ? document.getElementById(a) : a
	},
	Class: {
		create: function() {
			return function() {
				this.initialize.apply(this, arguments)
			}
		}
	},
	Extend: function(a, c) {
		for (var b in c) {
			a[b] = c[b]
		}
	},
	Bind: function(b, a) {
		return function() {
			return a.apply(b, arguments)
		}
	},
	BindAsEventListener: function(b, a) {
		return function(c) {
			return a.call(b, (c || window.event))
		}
	},
	CurrentStyle: function(a) {
		return a.currentStyle || document.defaultView.getComputedStyle(a, null)
	},
	addEventHandler: function(b, c, a) {
		if (b.addEventListener) {
			b.addEventListener(c, a, false)
		} else {
			if (b.attachEvent) {
				b.attachEvent("on" + c, a)
			} else {
				b["on" + c] = a
			}
		}
	},
	removeEventHandler: function(b, c, a) {
		if (b.removeEventListener) {
			b.removeEventListener(c, a, false)
		} else {
			if (b.detachEvent) {
				b.detachEvent("on" + c, a)
			} else {
				b["on" + c] = null
			}
		}
	},
	Each: function(d, a) {
		for (var b = 0, c = d.length; b < c; b++) {
			a(d[b], b)
		}
	},
	Contains: function(c, d) {
		return c.contains ? c != d && c.contains(d) : !! (c.compareDocumentPosition(d) & 16)
	}
};
var OverLay = lightLib.Class.create();
OverLay.prototype = {
	initialize: function(options) {
		this.SetOptions(options);
		this.Lay = lightLib.$$(this.options.Lay) || document.body.insertBefore(document.createElement("div"), document.body.childNodes[0]);
		this.Color = this.options.Color;
		this.Opacity = parseInt(this.options.Opacity);
		var mydate = new Date();
		var h = mydate.getHours() * 60 * 60;
		var m = mydate.getMinutes() * 60;
		var s = mydate.getSeconds();
		var seconds = h + m + s;
		this.zIndex = parseInt(this.options.zIndex) + parseInt(seconds);
		this.Lay.id = "pop-mask" + seconds;
		with(this.Lay.style) {
			display = "none";
			zIndex = this.zIndex;
			left = top = 0;
			position = "fixed";
			width = height = "100%"
		}
		if (lightLib.isIE6) {
			this.Lay.style.position = "absolute";
			this._resize = lightLib.Bind(this, function() {
				this.Lay.style.width = Math.max(document.documentElement.scrollWidth, document.documentElement.clientWidth) + "px";
				this.Lay.style.height = Math.max(document.documentElement.scrollHeight, document.documentElement.clientHeight) + "px"
			});
			this.Lay.innerHTML = '<iframe style="position:absolute;top:0;left:0;width:100%;height:100%;filter:alpha(opacity=0);"></iframe>'
		}
	},
	SetOptions: function(a) {
		this.options = {
			Lay: "pop-mask" || null,
			Color: "#000",
			Opacity: 30,
			zIndex: 5000
		};
		lightLib.Extend(this.options, a || {})
	},
	Show: function() {
		if (lightLib.isIE6) {
			this._resize();
			window.attachEvent("onresize", this._resize)
		}
		with(this.Lay.style) {
			lightLib.isIE && !lightLib.isIE10 ? filter = "alpha(opacity:" + this.Opacity + ")" : opacity = this.Opacity / 100;
			backgroundColor = this.Color;
			display = "block"
		}
	},
	Close: function() {
		this.Lay.style.display = "none";
		if (lightLib.isIE6) {
			window.detachEvent("onresize", this._resize)
		}
	}
};
var level = 0;
var LightBox = lightLib.Class.create();
LightBox.prototype = {
	initialize: function(a, b) {
		this.OverLay = new OverLay(b);
		this.Box = lightLib.$$(a);
		this.SetOptions(b);
		this.Fixed = !! this.options.Fixed;
		this.Over = !! this.options.Over;
		this.Center = !! this.options.Center;
		this.onShow = this.options.onShow;
		this.onClose = this.options.onClose;
		this.Box.style.zIndex = this.OverLay.zIndex + 1;
		this.Box.style.display = "none";
		if (lightLib.isIE6) {
			this._top = this._left = 0;
			this._select = [];
			this._fixed = lightLib.Bind(this, function() {
				this.Center ? this.SetCenter() : this.SetFixed()
			})
		}
	},
	SetOptions: function(a) {
		this.options = {
			Over: true,
			Fixed: true,
			Center: true,
			IsSetLevel: true,
			onShow: function() {},
			onClose: function() {}
		};
		lightLib.Extend(this.options, a || {})
	},
	SetFixed: function() {
		this.Box.style.top = document.documentElement.scrollTop - this._top + this.Box.offsetTop + "px";
		this.Box.style.left = documentElement.body.scrollLeft - this._left + this.Box.offsetLeft + "px";
		this._top = document.documentElement.scrollTop;
		this._left = document.documentElement.scrollLeft
	},
	SetCenter: function() {
		this.Box.style.marginTop = document.documentElement.scrollTop - this.Box.offsetHeight / 2 + "px";
		this.Box.style.marginLeft = document.documentElement.scrollLeft - this.Box.offsetWidth / 2 + "px"
	},
	Show: function(a) {
		this.Box.style.position = this.Fixed && !lightLib.isIE6 ? "fixed" : "absolute";
		this.Over && this.OverLay.Show();
		this.Box.style.display = "block";
		if (this.Center) {
			this.Box.style.top = this.Box.style.left = "50%";
			if (this.Fixed) {
				this.Box.style.marginTop = -this.Box.offsetHeight / 2 + "px";
				this.Box.style.marginLeft = -this.Box.offsetWidth / 2 + "px"
			} else {
				this.SetCenter()
			}
		}
		if (lightLib.isIE6) {
			if (!this.Over) {
				this._select.length = 0;
				lightLib.Each(document.getElementsByTagName("select"), lightLib.Bind(this, function(b) {
					if (!lightLib.Contains(this.Box, b)) {
						b.style.visibility = "hidden";
						this._select.push(b)
					}
				}))
			}
			this.Center ? this.SetCenter() : this.Fixed && this.SetFixed();
			this.Fixed && window.attachEvent("onscroll", this._fixed)
		}
		this.onShow();
		if (this.IsSetLevel) {
			level = level + 10;
			this.Box.style.zIndex = 5000 + level;
			this.OverLay.Lay.style.zIndex = 5000 + level - 1
		}
	},
	Close: function() {
		this.Box.style.display = "none";
		if (this.IsSetLevel) {
			level = level - 10;
			this.Box.style.zIndex = 5000 + level;
			this.OverLay.Lay.style.zIndex = 5000 + level - 1
		}
		this.onClose();
		if (level == 0) {
			this.OverLay.Close();
			if (lightLib.isIE6) {
				window.detachEvent("onscroll", this._fixed);
				lightLib.Each(this._select, function(a) {
					a.style.visibility = "visible"
				})
			}
		}
	}
};
var Drag = lightLib.Class.create();
Drag.prototype = {
	initialize: function(drag, options) {
		this.Drag = lightLib.$$(drag);
		this._x = this._y = 0;
		this._marginLeft = this._marginTop = 0;
		this._fM = lightLib.BindAsEventListener(this, this.Move);
		this._fS = lightLib.Bind(this, this.Stop);
		this.SetOptions(options);
		this.Limit = !! this.options.Limit;
		this.mxLeft = parseInt(this.options.mxLeft);
		this.mxRight = parseInt(this.options.mxRight);
		this.mxTop = parseInt(this.options.mxTop);
		this.mxBottom = parseInt(this.options.mxBottom);
		this.LockX = !! this.options.LockX;
		this.LockY = !! this.options.LockY;
		this.Lock = !! this.options.Lock;
		this.onStart = this.options.onStart;
		this.onMove = this.options.onMove;
		this.onStop = this.options.onStop;
		this._Handle = lightLib.$$(this.options.Handle) || this.Drag;
		this._mxContainer = lightLib.$$(this.options.mxContainer) || null;
		this.Drag.style.position = "absolute";
		if (lightLib.isIE && !! this.options.Transparent && !lightLib.isIE10) {
			with(this._Handle.appendChild(document.createElement("div")).style) {
				width = height = "100%";
				backgroundColor = "#fff";
				filter = "alpha(opacity:40)";
				fontSize = 0
			}
		}
		this.Repair();
		lightLib.addEventHandler(this._Handle, "mousedown", lightLib.BindAsEventListener(this, this.Start))
	},
	SetOptions: function(a) {
		this.options = {
			Handle: "",
			Limit: false,
			mxLeft: 0,
			mxRight: 9999,
			mxTop: 0,
			mxBottom: 9999,
			mxContainer: "",
			LockX: false,
			LockY: false,
			Lock: false,
			Transparent: false,
			onStart: function() {},
			onMove: function() {},
			onStop: function() {}
		};
		lightLib.Extend(this.options, a || {})
	},
	Start: function(a) {
		if (this.Lock) {
			return
		}
		this.Repair();
		this._x = a.clientX - this.Drag.offsetLeft;
		this._y = a.clientY - this.Drag.offsetTop;
		this._marginLeft = parseInt(lightLib.CurrentStyle(this.Drag).marginLeft) || 0;
		this._marginTop = parseInt(lightLib.CurrentStyle(this.Drag).marginTop) || 0;
		lightLib.addEventHandler(document, "mousemove", this._fM);
		lightLib.addEventHandler(document, "mouseup", this._fS);
		if (lightLib.isIE) {
			lightLib.addEventHandler(this._Handle, "losecapture", this._fS);
			this._Handle.setCapture()
		} else {
			lightLib.addEventHandler(window, "blur", this._fS);
			a.preventDefault()
		}
		this.onStart()
	},
	Repair: function() {
		if (this.Limit) {
			this.mxRight = Math.max(this.mxRight, this.mxLeft + this.Drag.offsetWidth);
			this.mxBottom = Math.max(this.mxBottom, this.mxTop + this.Drag.offsetHeight);
			!this._mxContainer || lightLib.CurrentStyle(this._mxContainer).position == "relative" || lightLib.CurrentStyle(this._mxContainer).position == "absolute" || (this._mxContainer.style.position = "relative")
		}
	},
	Move: function(oEvent) {
		if (this.Lock) {
			this.Stop();
			return
		}
		window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty();
		var iLeft = oEvent.clientX - this._x,
			iTop = oEvent.clientY - this._y;
		if (this.Limit) {
			var mxLeft = this.mxLeft,
				mxRight = this.mxRight,
				mxTop = this.mxTop,
				mxBottom = this.mxBottom;
			if ( !! this._mxContainer) {
				mxLeft = Math.max(mxLeft, 0);
				mxTop = Math.max(mxTop, 0);
				mxRight = Math.min(mxRight, this._mxContainer.clientWidth);
				mxBottom = Math.min(mxBottom, this._mxContainer.clientHeight)
			}
			iLeft = Math.max(Math.min(iLeft, mxRight - this.Drag.offsetWidth), mxLeft);
			iTop = Math.max(Math.min(iTop, mxBottom - this.Drag.offsetHeight), mxTop)
		}
		with(this.Drag.style) {
			lightLib.isIE && !lightLib.isIE10 ? filter = "alpha(opacity:70)" : opacity = 0.7
		}
		if (!this.LockX) {
			this.Drag.style.left = iLeft - this._marginLeft + "px"
		}
		if (!this.LockY) {
			this.Drag.style.top = iTop - this._marginTop + "px"
		}
		this.onMove()
	},
	Stop: function() {
		lightLib.removeEventHandler(document, "mousemove", this._fM);
		lightLib.removeEventHandler(document, "mouseup", this._fS);
		if (lightLib.isIE) {
			lightLib.removeEventHandler(this._Handle, "losecapture", this._fS);
			this._Handle.releaseCapture()
		} else {
			lightLib.removeEventHandler(window, "blur", this._fS)
		}
		with(this.Drag.style) {
			lightLib.isIE && !lightLib.isIE10 ? filter = "alpha(opacity:100)" : opacity = 1
		}
		this.onStop()
	}
};
var ImageSilder = lightLib.Class.create();
ImageSilder.prototype = {
	initialize: function(c, b, a, f, d, e) {
		this.Link = $("#" + b);
		this.Image = $("#" + a);
		this.Title = $("#" + f);
		this.NumberList = $("#" + d);
		this.Silders = e;
		$.each(this.Silders, function(g, h) {
			var j = "<li onmouseout='" + c + ".StartAutoSilde();' onmouseover='" + c + ".StopAutoSilde();' onclick='" + c + ".showImg(this);' title='" + h.title + "' tagUrl='" + h.tagUrl + "' imgSrc='" + h.imgSrc + "'>" + (g + 1) + "</li>";
			$("#" + d).append(j)
		});
		this.showImg($("#" + d).find("li:first-child"));
		this.StartAutoSilde()
	},
	showImg: function(a) {
		var b = this.Image;
		$(a).attr("class", "selected").siblings().removeAttr("class");
		this.Link.attr("href", $(a).attr("tagUrl"));
		this.Title.text($(a).attr("title"));
		b.attr("src", $(a).attr("imgSrc"))
	},
	StartAutoSilde: function() {
		var b = this.NumberList;

		function a() {
			if (b.find("li[class='selected']").next().text()) {
				b.find("li[class='selected']").next().click()
			} else {
				b.find("li:first-child").click()
			}
		}
		if (b.find("li").length > 1) {
			this.AutoInertval = setInterval(a, 7 * 1000)
		}
	},
	StopAutoSilde: function() {
		var a = this.AutoInertval;
		clearInterval(a)
	},
	AutoInertval: null
};
var QQSlider = function() {
		function f(i) {
			return document.getElementById(i)
		}
		function g(i, j) {
			return (i || document).getElementsByTagName(j)
		}
		function b(i, k) {
			for (var j in k) {
				i[j] = k[j]
			}
			return i
		}
		function a(j, k, n) {
			if (j.forEach) {
				j.forEach(k, n)
			} else {
				for (var l = 0, m = j.length; l < m; l++) {
					k.call(n, j[l], l, j)
				}
			}
		}
		function c(i, j) {
			return i.currentStyle || document.defaultView.getComputedStyle(i, null)
		}
		var h = {
			Quart: {
				easeOut: function(l, i, j, k) {
					return -j * ((l = l / k - 1) * l * l * l - 1) + i
				}
			},
			Back: {
				easeOut: function(m, i, j, k, l) {
					if (l == undefined) {
						l = 1.70158
					}
					return j * ((m = m / k - 1) * m * ((l + 1) * m + l) + 1) + i
				}
			},
			Bounce: {
				easeOut: function(l, i, j, k) {
					if ((l /= k) < (1 / 2.75)) {
						return j * (7.5625 * l * l) + i
					} else {
						if (l < (2 / 2.75)) {
							return j * (7.5625 * (l -= (1.5 / 2.75)) * l + 0.75) + i
						} else {
							if (l < (2.5 / 2.75)) {
								return j * (7.5625 * (l -= (2.25 / 2.75)) * l + 0.9375) + i
							} else {
								return j * (7.5625 * (l -= (2.625 / 2.75)) * l + 0.984375) + i
							}
						}
					}
				}
			}
		};
		var e = function(i, m, k, j) {
				var l = this;
				if (!(l instanceof e)) {
					return new e(i, m, k, j)
				}
				l.container = f(i);
				l.scroller = f(m);
				if (!(l.container || l.scroller)) {
					return
				}
				l.config = b(d, j || {});
				l.index = 0;
				l.timer = null;
				l.count = k;
				l.step = l.scroller.offsetWidth / k
			};
		var d = {
			trigger: 1,
			auto: true,
			tween: h.Quart.easeOut,
			Time: 10,
			duration: 50,
			pause: 3000,
			start: function() {},
			end: function() {}
		};
		e.prototype = {
			constructor: e,
			transform: function(i) {
				var j = this;
				i == undefined && (i = j.index);
				i < 0 && (i = j.count - 1) || i >= j.count && (i = 0);
				j.time = 0;
				j.target = -Math.abs(j.step) * (j.index = i);
				j.begin = parseInt(c(j.scroller)["left"]);
				j.change = j.target - j.begin;
				j.duration = j.config.duration;
				j.start();
				j.run()
			},
			run: function() {
				var i = this;
				clearTimeout(i.timer);
				if (i.change && i.time < i.duration) {
					i.moveTo(Math.round(i.config.tween(i.time++, i.begin, i.change, i.duration)));
					i.timer = setTimeout(function() {
						i.run()
					}, i.config.Time)
				} else {
					i.moveTo(i.target);
					i.config.auto && (i.timer = setTimeout(function() {
						i.next()
					}, i.config.pause))
				}
			},
			moveTo: function(j) {
				this.scroller.style.left = j + "px"
			},
			next: function() {
				this.transform(++this.index)
			}
		};
		return {
			scroll: function(i, l, k, j) {
				window.onload = function() {
					var m = document.createDocumentFragment(),
						p = [];
					for (var n = 0; n < k; n++) {
						var o = document.createElement("li");
						(p[n] = m.appendChild(document.createElement("li"))).innerHTML = n + 1
					}
					f("pic_wrapper_numbers").appendChild(m);
					var q = e(i, l, k, j);
					a(p, function(s, r) {
						s[q.config.trigger == 1 ? "onclick" : "onmouseover"] = function() {
							s.className = "on";
							q.transform(r)
						};
						s.onmouseout = function() {
							s.className = "";
							q.transform()
						}
					});
					q.start = function() {
						a(p, function(s, r) {
							s.className = q.index == r ? "on" : ""
						})
					};
					q.transform()
				}
			}
		}
	}();
var ele = {
	timeContainer: $("#clockTime"),
	buyDg: $("#buyDg"),
	buyHm: $("#buyHm"),
	buyChase: $("#buyChase"),
	prizeInfo: $("#prizeInfo"),
	awardTime: $("#award_time"),
	preIssue: $("#GameInfo_PreIssuse"),
	newWinNumber: $("#GameInfo_AwardNumberList")
};
var SDKLPK3 = {
	TH1: "黑桃",
	TH2: "红桃",
	TH3: "梅花",
	TH4: "方块",
	THX: "同花包选",
	SZ1: "A23",
	SZ2: "234",
	SZ3: "345",
	SZ4: "456",
	SZ5: "567",
	SZ6: "678",
	SZ7: "789",
	SZ8: "8910",
	SZ9: "910J",
	SZ10: "10JQ",
	SZ11: "JQK",
	SZ12: "QKA",
	SZX: "顺子包选",
	THS1: "同花顺黑桃",
	THS2: "同花顺红桃",
	THS3: "同花顺梅花",
	THS4: "同花顺方块",
	THSX: "同花顺包选",
	DZ1: "AA",
	DZ2: "22",
	DZ3: "33",
	DZ4: "44",
	DZ5: "55",
	DZ6: "66",
	DZ7: "77",
	DZ8: "88",
	DZ9: "99",
	DZ10: "1010",
	DZ11: "JJ",
	DZ12: "QQ",
	DZ13: "KK",
	DZX: "对子包选",
	BZ1: "AAA",
	BZ2: "222",
	BZ3: "333",
	BZ4: "444",
	BZ5: "555",
	BZ6: "666",
	BZ7: "777",
	BZ8: "888",
	BZ9: "999",
	BZ10: "101010",
	BZ11: "JJJ",
	BZ12: "QQQ",
	BZ13: "KKK",
	BZX: "豹子包选",
	"1": "A",
	"2": "2",
	"3": "3",
	"4": "4",
	"5": "5",
	"6": "6",
	"7": "7",
	"8": "8",
	"9": "9",
	"10": "10",
	"11": "J",
	"12": "Q",
	"13": "K",
	transTHXCode: function(a) {
		var b = ["THS1", "THS2", "THS3", "THS4"];
		for (var c = 0; c < 4; c++) {
			if (a.indexOf(b[c]) > -1) {
				return true
			}
		}
		return false
	},
	transBZCode: function(a) {
		var b = ["BZ1", "BZ2", "BZ3", "BZ4", "BZ5", "BZ6", "BZ7", "BZ8", "BZ9", "BZ10", "BZ11", "BZ12", "BZ13"];
		for (var c = 0; c < 13; c++) {
			if (a.indexOf(b[c]) > -1) {
				return true
			}
		}
		return false
	},
	cardColor: function(a) {
		if ("1" == a) {
			return "?"
		}
		if ("2" == a) {
			return "?"
		}
		if ("3" == a) {
			return "?"
		}
		if ("4" == a) {
			return "?"
		}
		return ""
	},
	trans: function(a) {
		if (a == undefined) {
			return ""
		}
		var e = a.split(",");
		var c = "",
			f, b;
		for (var d = 0; d < 3; d++) {
			f = e[d].substr(0, 1);
			b = e[d].substr(1, 2);
			if (f == "2" || f == "4") {
				c += "<span style='color:red;margin-right:4px;'>"
			} else {
				c += "<span style='color:black;margin-right:4px;'>"
			}
			c += "<em style='font-size:16px;'>" + this.cardColor(f) + "</em>" + SDKLPK3[parseInt(b, 10)] + "</span>"
		}
		return c
	}
};

function onblr(a) {
	if (a.value == "") {
		a.value = a.getAttribute("title")
	}
}
var lottery = {
	now: null,
	pre: null,
	time: null,
	win: null,
	isturnball: false,
	isInitNewNunber: true,
	award: {},
	prize: {},
	init: function() {
		this.award = gameBallInfo.get(gameCode);
		lottery.updateAward();
		setTimeout("lottery.loadData()", 1000);
		setTimeout("lottery.lastData()", 1000 * 2)
	},
	updateAward: function() {
		if (!betTime.block) {}
	},
	loadData: function() {
		if (!this.isturnball) {
			$("#GameInfo_AwardNumberList i").attr("isopen", "n");
			this.turnBall();
			$("#GameInfo_NumberAttach").fadeOut("slow", function() {
				$(this).html("")
			})
		}
		function a() {
			var b = lottery.win.split(",");
			$.each(b, function(c, d) {
				setTimeout("lottery.stopBall('" + d + "')", 500 * c)
			});
			betHistory.loadData();
			lottery.lastData()
		}
		if (lottery.win) {
			a()
		} else {}
	},
	outTime: function() {
		if (lottery.time < 1) {
			setTimeout("lottery.updateAward()", 1000 * 5);
			if (!this.isturnball && !betTime.block) {
				setTimeout("lottery.loadData()", 1000 * 15)
			}
		} else {
			lottery.time = lottery.time - 1;
			setTimeout("lottery.outTime()", 1000);
			var a = lottery.time.toLeftTimeString();
			$("#GameInfo_AwardTime").text(a)
		}
	},
	reTime: function() {
		if (!betTime.block) {
			$.getJSON("http://127.0.0.1:8080/lottery/jsonp/lottery/lastWinInfo/" + gameCode + "?ref=reTime&r=" + Math.random(), function(a) {
				lottery.now = a.now;
				lottery.pre = a.pre;
				lottery.time = a.time;
				lottery.win = a.win.replace("|", ",");
				$("#top_curissuse2").text(lottery.now);
				$("#GameInfo_PreIssuse").text(lottery.pre)
			})
		}
	},
	turnBall: function() {
		this.isturnball = true;
		var a = $("#GameInfo_AwardNumberList i[isopen=n]");
		if (this.isturnball && a.length > 0) {
			if (gameCode == "SDKLPK3") {} else {
				a.text("-")
			}
		} else {
			this.isturnball = false
		}
	},
	stopBall: function(f) {
		if (gameCode == "JSKS") {
			$("#GameInfo_AwardNumberList i[isopen=n]").first().text(f).attr("isopen", f).attr("class", "dice dice-" + f)
		} else {
			if (gameCode == "SDKLPK3") {
				var e = f.substr(0, 1);
				var d = f.substr(1, 2);
				var b = $("#GameInfo_AwardNumberList i[isopen=n]").first();
				var c = b.find(".front");
				var a = b.find(".back");
				b.attr("isopen", f);
				a.addClass("digital-" + e + "-" + d);
				setTimeout(function() {
					c.addClass("back-0");
					a.addClass("front-0")
				}, 2 * 1000)
			} else {
				$("#GameInfo_AwardNumberList i[isopen=n]").first().text(f).attr("isopen", f).css("color", "#ffffff")
			}
		}
		if ($("#GameInfo_AwardNumberList i[isopen=n]").length < 1) {
			this.isturnball = false
		}
	},
	lastData: function(a, b) {
		$.getJSON("http://127.0.0.1:8080/lottery/jsonp/jsonp/jsonData/lottery_new_open_list_" + gameCode + ".json?r=" + Math.random(), function(f) {
			var d = 0;
			var c = "",
				e;
			$.each(f, function(n, m) {
				c += "<p" + (n % 2 == 1 ? " class=gray" : "") + " issue='" + m.IssuseNumber + "' awardt='" + m.CreateTime + "' number='" + m.WinNumber.replace("|", ",") + "'>";
				c += "<span class='r_border'>" + m.IssuseNumber + "</span> <span class='qihao'>";
				if (gameCode.toUpperCase() == "SSQ" || gameCode.toUpperCase() == "DLT") {
					var g = m.WinNumber.split("|");
					if (g.length == 2) {
						var w = g[0].split(",");
						for (var o = 0; o < w.length; o++) {
							c += "<em class='red'>" + w[o] + "</em>"
						}
						var l = g[1].split(",");
						for (var p = 0; p < l.length; p++) {
							c += "<em class='blue'>" + l[p] + "</em>"
						}
					} else {
						var w = g[0].split(",");
						for (var v = 0; v < l.length; v++) {
							c += "<em class='red'>" + w[v] + "</em>"
						}
					}
				} else {
					if (gameCode.toUpperCase() == "SDKLPK3") {
						c += SDKLPK3.trans(m.WinNumber)
					} else {
						c += m.WinNumber
					}
				}
				c += "</span></p>";
				if (n == 0) {
					var u = m.IssuseNumber;
					var h = m.CreateTime;
					var t = m.WinNumber.replace("|", ",");
					if (gameCode.toUpperCase() == "SSQ" || gameCode.toUpperCase() == "DLT") {
						lottery.prizeInfo(u, h, t, true)
					} else {
						if (lottery.isInitNewNunber) {
							lottery.isInitNewNunber = false;
							var q = Number(u.split("-")[1]);
							var s = Number(chase.issuse.max()) - q;
							$("#newIssuse").text(m.IssuseNumber.substr(2).replace(/-/, ""));
							$("#pastIssuse").text(q);
							$("#leftIssuse").text(s);
							$.each(t.split(","), function(j, k) {
								setTimeout("lottery.stopBall('" + k + "')", 500 * j)
							})
						}
					}
				}
				n++
			});
			$("#winnumber_list").html(c)
		})
	},
	prizeInfo: function(c, a, d, b) {
		if (lottery.prize[gameCode] == undefined) {
			lottery.prize[gameCode] = {}
		}
		ele.preIssue.html(c);
		ele.awardTime.html(a);
		if (b) {
			var h = d.split(",");
			$.each(h, function(f, j) {
				setTimeout("lottery.stopBall('" + j + "')", 500 * f)
			})
		}
		var e = lottery.prize[gameCode][c];
		if (e) {
			$.each(e, function(j, k) {
				var i = ele.prizeInfo.find("dd[grade=" + k.Grade + "]");
				if (i) {
					var f = i.find(".kjxx_zs");
					if (f) {
						f.text(k.BonusCount)
					}
					var l = i.find(".kjxx_jj");
					if (l) {
						l.text(k.BonusMoney)
					}
				}
			})
		} else {
			var g = $.format("{0}{1}/{1}_{2}.json", dres, gameCode, c);
			$.getScript(g, function(f, i) {
				if (i == "success") {
					if (data != null) {
						if (gameCode.toLocaleLowerCase() == data.GameCode.toLocaleLowerCase() && c == data.IssuseNumber) {
							e = data.GradeList;
							lottery.prize[gameCode][c] = {};
							$.each(e, function(l, m) {
								lottery.prize[gameCode][c][m.Grade] = {};
								lottery.prize[gameCode][c][m.Grade].BonusCount = m.BonusCount;
								lottery.prize[gameCode][c][m.Grade].BonusMoney = m.BonusMoney;
								var k = ele.prizeInfo.find("dd[grade=" + m.Grade + "]");
								if (k) {
									var j = k.find(".kjxx_zs");
									if (j) {
										j.text(m.BonusCount)
									}
									var n = k.find(".kjxx_jj");
									if (n) {
										n.text(m.BonusMoney)
									}
								}
							})
						}
					}
				}
			})
		}
	},
	getPrizeNumber: function(b) {
		var c = $.trim(ele.preIssue.text());
		var e = $("#winnumber_list p[issue='" + c + "']");
		var g;
		if (b) {
			g = e.next()
		} else {
			g = e.prev()
		}
		var f = g.attr("issue");
		var a = g.attr("awardt");
		var d = g.attr("number");
		if (f != undefined && a != undefined && d != undefined) {
			lottery.prizeInfo(f, a, d, true)
		}
	},
	expandPrize: function(a) {
		var b = $(a);
		if (b.hasClass("cp_slide_open")) {
			b.removeClass("cp_slide_open").text("展开");
			ele.prizeInfo.removeAttr("style").find("dd").slice(3, 6).hide()
		} else {
			b.addClass("cp_slide_open").text("关闭");
			ele.prizeInfo.css("height", "auto").find("dd").slice(3, 6).show()
		}
	},
	numberAttach: function() {
		var numberArray = lottery.win.split(",");
		var last2 = new Array();
		var last3 = new Array();
		switch (numberArray.length) {
		case 5:
			last2 = [parseInt(numberArray[3], 10), parseInt(numberArray[4], 10)];
			last3 = [parseInt(numberArray[2], 10), parseInt(numberArray[3], 10), parseInt(numberArray[4], 10)];
			break;
		case 3:
			last2 = [parseInt(numberArray[1], 10), parseInt(numberArray[2], 10)];
			last3 = [parseInt(numberArray[0], 10), parseInt(numberArray[1], 10), parseInt(numberArray[2], 10)];
			break
		}
		var last3_length = last3.distinct().length;

		function DXDS_DX(num) {
			return num < 5 ? "小" : "大"
		}
		function DXDS_DS(num) {
			return num % 2 == 0 ? "双" : "单"
		}
		var contHtml = "";
		switch (gameCode) {
		case "CQSSC":
		case "JXSSC":
		case "FC3D":
		case "PL3":
			var dx10 = DXDS_DX(last2[0]);
			var dx1 = DXDS_DX(last2[1]);
			var ds10 = DXDS_DS(last2[0]);
			var ds1 = DXDS_DS(last2[1]);
			contHtml = "<span class=yellow>三星：</span><b class='duckred'>" + ((last3_length == 1) ? "豹子" : (last3_length == 2 ? "组三" : "组六")) + "</b>";
			contHtml += " <span class=yellow>二星和值：</span><b class='duckred'>" + eval(last2.join("+")) + "</b>";
			contHtml += " <span class=yellow>三星和值：</span><b class='duckred'>" + eval(last3.join("+")) + "</b>";
			if (gameCode == "CQSSC" || gameCode == "JXSSC") {}
			break;
		case "SD11X5":
		case "GD11X5":
		case "JX11X5":
			contHtml = "<span class=yellow>前一：</span><span class=duckred>" + numberArray[0] + "</span> <span class=yellow>前二：</span><span class=duckred>" + numberArray[0] + "," + numberArray[1] + "</span> <span class=yellow>前三：</span><span class=duckred>" + numberArray[0] + "," + numberArray[1] + "," + numberArray[2] + "</span>";
			break
		}
		$("#GameInfo_NumberAttach").html(contHtml).fadeIn()
	}
};
var betTime = {
	block: false,
	period: null,
	time: 0,
	stoptime: 0,
	awardtime: 0,
	stopdate: null,
	nowsdate: null,
	difftime: 0,
	continueCountDownFlag: false,
	next: function() {
		betTime.loadTime(true);
		if (lottery.isturnball) {
			lottery.isturnball = false;
			lottery.loadData()
		}
		lottery.lastData()
	},
	outTime: function() {
		var a = new Date().getTime() + betTime.difftime;
		betTime.awardtime = GetDateDiff(new Date(a), new Date(betTime.stopdate), "second");
		betTime.time = betTime.awardtime - 60;
		if (betTime.time < 1) {
			betTime.next()
		} else {
			var b = betTime.period;
			betTime.time = betTime.time - 1;
			betTime.awardtime = betTime.awardtime - 1;
			ele.timeContainer.html(this.timeFormatting(betTime.time));
			setTimeout("betTime.outTime()", 1000);
			if (betTime.time <= 0) {
				setTimeout(function() {
					betTime.showDynamicTime(betTime.awardtime, betTime.period, false)
				}, 1000)
			}
		}
	},
	showDynamicTime: function(a, c, b) {
		if (a < 0 && b) {
			setTimeout(function() {
				betTime.getNewWinNumber(c)
			}, 1000);
			return
		} else {
			if (a < 0 && !b) {
				b = true;
				a = 10
			}
		}
		if (b) {
			if (gameCode == "JX11X5" || gameCode == "SD11X5" || gameCode == "GD11X5") {
				ele.newWinNumber.html("<p>" + gameName + " 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 开奖</p><p class='currenAward'><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em></p><p>正在获取开奖号码...<span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
			} else {
				if (gameCode == "CQSSC") {
					ele.newWinNumber.html("<p>重庆时时彩 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 开奖</p><p class='currenAward'><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em></p><p>正在获取开奖号码...<span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
				} else {
					if (gameCode == "FC3D") {
						ele.newWinNumber.html("<p>福彩3D 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 开奖</p><p class='currenAward'><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em></p><p>正在获取开奖号码...<span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
					} else {
						if (gameCode == "GDKLSF") {
							ele.newWinNumber.html("<p>广东快乐十分 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 开奖</p><p class='currenAward gdklsf'><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em></p><p>正在获取开奖号码...<span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
						} else {
							if (gameCode == "SDKLPK3") {
								ele.newWinNumber.html("<p>山东快乐扑克3 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 开奖</p><p class='currenAward' style='height:71px;'><i isopen='n' class='poker'><span class='front'></span><span class='back'></span></i><i isopen='n' class='poker'><span class='front'></span><span class='back'></span></i><i isopen='n' class='poker'><span class='front'></span><span class='back'></span></i></p><p>正在获取开奖号码...<span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
							} else {
								if (gameCode == "JSKS") {
									ele.newWinNumber.html("<p>江苏快3 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 开奖</p><p class='currenAward'><i isopen='n' class='dice-rotating'>-</i><i isopen='n' class='dice-rotating'>-</i><i isopen='n' class='dice-rotating'>-</i></p><p>正在获取开奖号码...<span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
								} else {
									ele.newWinNumber.html("<p>排列三 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 开奖</p><p class='currenAward'><em class='awardBall'>?</em><em class='awardBall'>?</em><em class='awardBall'>?</em></p><p>正在获取开奖号码...<span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
								}
							}
						}
					}
				}
			}
		} else {
			if (gameCode == "JX11X5" || gameCode == "SD11X5" || gameCode == "GD11X5") {
				ele.newWinNumber.html("<p>" + gameName + " 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 等待开奖</p><p class='waitingRelease'><i></i><span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
			} else {
				if (gameCode == "CQSSC") {
					ele.newWinNumber.html("<p>重庆时时彩 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 等待开奖</p><p class='waitingRelease'><i></i><span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
				} else {
					if (gameCode == "FC3D") {
						ele.newWinNumber.html("<p>福彩3D 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 等待开奖</p><p class='waitingRelease'><i></i><span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
					} else {
						if (gameCode == "GDKLSF") {
							ele.newWinNumber.html("<p>广东快乐十分 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 等待开奖</p><p class='waitingRelease'><i></i><span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
						} else {
							if (gameCode == "SDKLPK3") {
								ele.newWinNumber.html("<p>山东快乐扑克3 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 等待开奖</p><p class='waitingRelease'><i></i><span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
							} else {
								if (gameCode == "JSKS") {
									ele.newWinNumber.html("<p>江苏快3 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 等待开奖</p><p class='waitingRelease'><i></i><span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
								} else {
									ele.newWinNumber.html("<p>排列三 第 <strong style='color: Red;'>" + c.substr(2).replace(/-/, "") + "</strong> 期 等待开奖</p><p class='waitingRelease'><i></i><span name='awardTimer'>" + this.timeFormatting2(a) + "</span></p>")
								}
							}
						}
					}
				}
			}
		}
		setTimeout(function() {
			betTime.showDynamicTime(--a, c, b)
		}, 1000)
	},
	getNewWinNumber: function(a) {
		$.getJSON("http://127.0.0.1:8080/lottery/jsonp/jsonData/lottery_new_number.json?r=" + Math.random(), function(b) {
			$.each(b, function(d, c) {
				if (gameCode == c.GameCode) {
					if (a == "") {
						return
					}
					if (c.IssuseNumber == a) {
						var g = c.WinNumber.split(",");
						var e = Number(a.split("-")[1]);
						var f = Number(chase.issuse.max()) - e;
						if (gameCode == "JX11X5" || gameCode == "SD11X5" || gameCode == "GD11X5") {
							ele.newWinNumber.html("<p>" + gameName + " 第 <strong id='newIssuse' style='color: Red;'>-</strong> 期 开奖</p><p class='currenAward'><i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i></p><p>今日已售 <span id='pastIssuse'>-</span> 期，还剩 <strong id='leftIssuse' style='color: Red;'>-</strong> 期</p>")
						} else {
							if (gameCode == "CQSSC") {
								ele.newWinNumber.html("<p>重庆时时彩 第 <strong id='newIssuse' style='color: Red;'>-</strong> 期 开奖</p><p class='currenAward'><i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i></p><p>今日已售 <span id='pastIssuse'>-</span> 期，还剩 <strong id='leftIssuse' style='color: Red;'>-</strong> 期</p>")
							} else {
								if (gameCode == "FC3D") {
									ele.newWinNumber.html("<p>福彩3D 第 <strong id='newIssuse' style='color: Red;'>-</strong> 期 开奖</p><p class='currenAward'><i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i></p><p>今日已售 <span id='pastIssuse'>-</span> 期，还剩 <strong id='leftIssuse' style='color: Red;'>-</strong> 期</p>")
								} else {
									if (gameCode == "GDKLSF") {
										ele.newWinNumber.html('<p>广东快乐十分 第 <strong id="newIssuse" style="color: Red;">-</strong> 期 开奖</p><p class="currenAward gdklsf"><i isopen="n" class="awardBall">--</i><i isopen="n" class="awardBall">--</i><i isopen="n" class="awardBall">--</i><i isopen="n" class="awardBall">--</i><i isopen="n" class="awardBall">--</i><i isopen="n" class="awardBall">--</i><i isopen="n" class="awardBall">--</i><i isopen="n" class="awardBall">--</i></p><p>今日已售 <span id="pastIssuse">-</span> 期，还剩 <strong id="leftIssuse" style="color: Red;">-</strong> 期</p> ')
									} else {
										if (gameCode == "SDKLPK3") {
											ele.newWinNumber.html('<p>山东快乐扑克3 第 <strong id="newIssuse" style="color: Red;">-</strong> 期 开奖</p><p class="currenAward" style="height: 71px;"><i isopen="n" class="poker"><span class="front"></span><span class="back"></span></i><i isopen="n" class="poker"><span class="front"></span><span class="back"></span></i><i isopen="n" class="poker"><span class="front"></span><span class="back"></span></i></p><p>今日已售 <span id="pastIssuse">-</span> 期，还剩 <strong id="leftIssuse" style="color: Red;">-</strong> 期</p>')
										} else {
											if (gameCode == "JSKS") {
												ele.newWinNumber.html('<p>江苏快3 第 <strong id="newIssuse" style="color: Red;">-</strong> 期 开奖</p><p class="currenAward"><i isopen="n" class="dice">--</i><i isopen="n" class="dice">--</i><i isopen="n" class="dice">--</i></p><p>今日已售 <span id="pastIssuse">-</span> 期，还剩 <strong id="leftIssuse" style="color: Red;">-</strong> 期</p>')
											} else {
												ele.newWinNumber.html("<p>排列三 第 <strong id='newIssuse' style='color: Red;'>-</strong> 期 开奖</p><p class='currenAward'><i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i> <i isopen='n' class='awardBall'>--</i></p><p>今日已售 <span id='pastIssuse'>-</span> 期，还剩 <strong id='leftIssuse' style='color: Red;'>-</strong> 期</p>")
											}
										}
									}
								}
							}
						}
						$("#newIssuse").text(a.substr(2).replace(/-/, ""));
						$("#pastIssuse").text(e);
						$("#leftIssuse").text(f);
						$.each(g, function(m, n) {
							if (gameCode == "JSKS") {
								$("#GameInfo_AwardNumberList i[isopen=n]").first().text(n).attr("isopen", n).attr("class", "dice dice-" + n)
							} else {
								if (gameCode == "SDKLPK3") {
									var o = n.substr(0, 1);
									var l = n.substr(1, 2);
									var j = $("#GameInfo_AwardNumberList i[isopen=n]").first();
									var k = j.find(".front");
									var h = j.find(".back");
									j.attr("isopen", n);
									h.addClass("digital-" + o + "-" + l);
									setTimeout(function() {
										k.addClass("back-0");
										h.addClass("front-0")
									}, 2 * 1000)
								} else {
									$("#GameInfo_AwardNumberList i[isopen=n]").first().text(n).attr("isopen", n).css("color", "#ffffff")
								}
							}
							if ($("#GameInfo_AwardNumberList i[isopen=n]").length < 1) {
								this.isturnball = false
							}
						});
						lottery.lastData()
					} else {
						setTimeout(function() {
							betTime.getNewWinNumber(a)
						}, 1000)
					}
				}
			})
		})
	},
	showChangeIssuseMsg: function(b, a, c) {
		if (c < 0) {
			alertClose();
			$("#alertBoxDiv .msg-content").next("#p_close_time").remove();
			return
		}
		if ($("#alertBoxDiv .msg-content").next("#p_close_time").length == 0) {
			alertTip("第<span style='color:red;'>" + b + "</span>期已截止，当前期是第<span style='color:red;'>" + a + "</span>期，投注时请确认您选择的期号", "ok");
			$("#alertBoxDiv .msg-content").after("<div id='p_close_time'><span id='sp_close_sencond' style='float:left;'>" + c + "</span><span style='float:left;'>秒后自动关闭</span></div>");
			$("#alertBoxDiv #drag_alert a").remove()
		} else {
			$("#sp_close_sencond").text(c)
		}
		setTimeout(function() {
			betTime.showChangeIssuseMsg(b, a, --c)
		}, 1000)
	},
	loadTime: function(c) {
		var b = betTime.period;
		var a = betTime.awardtime;
		$.getJSON("http://127.0.0.1:8080/lottery/jsonp/buy/curissuse/" + gameCode + "?ref=loadTime&r=" + Math.random().toFixed(5), function(d) {
			if (c) {
				confirmLightBox.Close();
				if ($("#alertBoxDiv .msg-content").next("#p_close_time").length == 0) {
					betTime.showChangeIssuseMsg(b, d.issuse, 10)
				}
			}
			$("#clockIssuseText").text(d.issuse.split("-")[1]);
			betTime.period = d.issuse;
			betTime.time = d.bettime;
			betTime.stoptime = d.stoptime;
			betTime.awardtime = d.awardtime;
			betTime.stopdate = d.stopdate;
			betTime.nowsdate = d.nowsdate;
			betTime.difftime = GetDateDiff(new Date(), new Date(betTime.nowsdate), "millisecond");
			$("#top_curissuse").text(betTime.period);
			$("#project_endtime,#project_time").text(betTime.stoptime);
			setTimeout("betTime.outTime()", 100);
			$("#check_ischase").removeAttr("disabled");
			var e = ["SSQ", "DLT", "FC3D", "PL3"];
			if (e._indexOf(gameCode) >= 0) {
				$("#check_ishemai").removeAttr("disabled");
				$("#hemai_check").removeClass("hide")
			} else {
				if ($("#check_ischase").attr("checked") == false) {
					$("#check_ischase").attr("checked", true).change()
				}
			}
			if (chase.isChase) {
				chase.oPeriod()
			}
			if (hemai.isHemai) {
				hemai.update()
			}
		})
	},
	reTime: function() {
		$.getJSON("http://127.0.0.1:8080/lottery/jsonp/buy/curissuse/" + gameCode + "?ref=reTime&r=" + Math.random(), function(a) {
			betTime.period = a.issuse;
			betTime.time = a.bettime;
			betTime.awardtime = a.awardtime;
			$("#top_curissuse").text(betTime.period)
		})
	},
	continueCountDown: function() {
		return;
		if (betTime.time < 1 && betTime.awardtime > 0) {
			ele.textContainer.html("离开奖还剩").attr("style", "color:red;");
			betTime.awardtime = betTime.awardtime - 1;
			setTimeout("betTime.continueCountDown()", 1000);
			ele.timeContainer.html(this.timeFormatting(betTime.awardtime))
		}
	},
	timeFormatting: function(f) {
		var a = parseInt(f / 60 / 60 / 24, 10);
		var b = parseInt(f / 60 / 60 % 24, 10);
		var c = parseInt(f / 60 % 60, 10);
		var e = f % 60;
		a = a > 0 ? a.toString() : "0" + a.toString();
		b = b > 9 ? b.toString() : "0" + b.toString();
		c = c > 9 ? c.toString() : "0" + c.toString();
		e = e > 9 ? e.toString() : "0" + e.toString();
		return ("<em>" + a + "</em>天<em>" + b + "</em>时<em>" + c + "</em>分<em>" + e + "</em>秒")
	},
	timeFormatting2: function(c) {
		var a = parseInt(c / 60 % 60, 10);
		var b = c % 60;
		a = a > 9 ? a.toString() : "0" + a.toString();
		b = b > 9 ? b.toString() : "0" + b.toString();
		return (a + ":" + b)
	}
};
var ballBox = {
	cur: {
		type: null,
		typeName: null,
		way: 1,
		min: 1,
		max: 0,
		bluemin: 1,
		bluemax: 0,
		bonus: 0,
		maxAmount: 99999,
		perch: "",
		manualOptions: {},
		radix: 2,
		isAppend: false,
		reset: function() {
			this.type = null;
			this.typeName = null;
			this.way = 1;
			this.min = 1;
			this.max = 0;
			this.bluemin = 1;
			this.bluemax = 0;
			this.bonus = 0;
			this.maxAmount = 99999;
			this.perch = "";
			this.manualOptions = {}
		}
	},
	count: 0,
	numbers: new Array(),
	manual: {
		settings: {
			price: 2,
			allRepeat: true,
			spliter: [",", ".", "+"],
			oneNumberLength: 1,
			numberLength: 3,
			max: 200,
			isZU3: false
		},
		init: function(d) {
			var c = {
				price: 2,
				allRepeat: true,
				oneNumberLength: 1,
				numberLength: 3,
				max: 200,
				isZU3: false
			};
			if (gameCode == "SSQ" || gameCode == "DLT") {
				c.oneNumberLength = 2
			}
			$.extend(this.settings, c, d);
			var b;
			if (gameCode == "SSQ" || gameCode == "DLT") {
				b = $("#GameTypeList a[class*='on']").attr("url")
			} else {
				b = $("#GameTypeList a[class*='on']").attr("val")
			}
			var e = $("#" + gameCode + "_" + b + " input[type='radio'][name='gametype']:checked").attr("url");
			var a = $("#" + gameCode + "_" + b + (e != undefined ? "_" + e : ""));
			a.find("#btn_importnumber").click(function() {
				var j = a.find("#import_filepath").val();
				if (!j) {
					return false
				}
				var f = j.split("\\");
				var h = f[f.length - 1];
				var g = h.substring(h.lastIndexOf(".") + 1, h.length).toLowerCase();
				if (g != "txt") {
					alertTip("请上传扩展名为.txt的文件。", "err");
					return false
				}
				var i = {
					type: "post",
					success: function(l) {
						var k = $.evalJSON(l);
						if (k.state) {
							k.msg = $.trim(k.msg.toLowerCase().replace(/<br>/g, "\r\n"));
							a.find("#import_numberarea").val(k.msg);
							ballBox.calNumber()
						} else {
							alertTip(k.msg, "err")
						}
					}
				};
				a.find("#importNumberForm").ajaxSubmit(i);
				return false
			});
			a.find("#import_numberarea").change(function() {
				ballBox.calNumber()
			});
			return false
		},
		isAllowNumber: function(c, b) {
			var a = new Array();
			for (var d = 0; d < c.length; d++) {
				if ($.inArray(c[d], b) == -1) {
					return false
				}
				if (!this.settings.allRepeat) {
					if ($.inArray(c[d], a) != -1) {
						return false
					}
					a.push(c[d])
				}
			}
			return true
		},
		buildOneOrder_RedBlue: function(f, g, a) {
			if (f.indexOf("|") > 0) {
				var j = f.split("|")[0];
				var c = f.split("|")[1];
				if (f.length - 1 == this.settings.oneNumberLength * this.settings.numberLength) {
					var h = new Array();
					for (var e = 0; e < j.length; e += this.settings.oneNumberLength) {
						var m = j.substr(e, this.settings.oneNumberLength);
						h.push(m)
					}
					if (this.isAllowNumber(h, g)) {
						if (this.settings.isZU3 && !ballBox.isZU3(numberArray[0], numberArray[1], numberArray[2])) {
							return null
						}
					}
					var b = new Array();
					for (var e = 0; e < c.length; e += this.settings.oneNumberLength) {
						var m = c.substr(e, this.settings.oneNumberLength);
						b.push(m)
					}
					if (this.isAllowNumber(b, a)) {
						return {
							Count: 1,
							Money: 1 * this.settings.price,
							Number: h.join(",") + "|" + b.join(","),
							NumberText: h.join(",") + "|" + b.join(",")
						}
					}
				}
				for (var e = 0; e < this.settings.spliter.length; e++) {
					var l = this.settings.spliter[e];
					var k = j.split(l);
					var d = c.split(l);
					if (k.length + d.length == this.settings.numberLength) {
						if (this.isAllowNumber(k, g) && this.isAllowNumber(d, a)) {
							return {
								Count: 1,
								Money: 1 * this.settings.price,
								Number: k.join(",") + "|" + d.join(","),
								NumberText: k.join(",") + "|" + d.join(",")
							}
						}
					}
				}
			}
		},
		buildOneOrder: function(c, a) {
			var e = new Array();
			if (c.length == this.settings.oneNumberLength * this.settings.numberLength) {
				var d = new Array();
				for (var b = 0; b < c.length; b += this.settings.oneNumberLength) {
					var g = c.substr(b, this.settings.oneNumberLength);
					d.push(g)
				}
				if (this.isAllowNumber(d, a)) {
					if (this.settings.isZU3 && !ballBox.isZU3(d[0], d[1], d[2])) {
						return null
					}
					return {
						Count: 1,
						Money: 1 * this.settings.price,
						Number: ballBox.cur.perch + d.join(","),
						NumberText: d.join(",")
					}
				}
			}
			for (var b = 0; b < this.settings.spliter.length; b++) {
				var f = this.settings.spliter[b];
				var d = c.split(f);
				if (d.length == this.settings.numberLength) {
					if (this.isAllowNumber(d, a)) {
						if (this.settings.isZU3 && !ballBox.isZU3(d[0], d[1], d[2])) {
							continue
						}
						return {
							Count: 1,
							Money: 1 * this.settings.price,
							Number: ballBox.cur.perch + d.join(","),
							NumberText: d.join(",")
						}
					}
				}
			}
		},
		calManual: function(b) {
			var c;
			if (gameCode == "SSQ" || gameCode == "DLT") {
				c = $("#GameTypeList a[class*='on']").attr("url")
			} else {
				c = $("#GameTypeList a[class*='on']").attr("val")
			}
			var e = $("#" + gameCode + "_" + c + " input[type='radio'][name='gametype']:checked").attr("url");
			var a = $.trim($("#" + gameCode + "_" + c + (e != undefined ? "_" + e : "") + " #import_numberarea").val());
			if (a) {
				a = a.replace(/\n/g, " ");
				var d = a.split(" ");
				$.each(d, function(f, g) {
					if (g) {
						var h;
						if (gameCode == "SSQ" || gameCode == "DLT") {
							h = ballBox.manual.buildOneOrder_RedBlue(g, b[0], b[1])
						} else {
							h = ballBox.manual.buildOneOrder(g, b)
						}
						if (h != null) {
							ballBox.numbers.push([h.Number, h.NumberText])
						}
					}
				})
			}
		}
	},
	rand: {
		nrand: function(g) {
			if (ballBox.cur.way == 2 || ballBox.cur.way == 4 || (ballBox.cur.way == 3 && ballBox.cur.type != "ZX3DS") || (ballBox.cur.way == 3 && ballBox.cur.type == "ZX3DS") || ballBox.cur.type == "3THTX" || ballBox.cur.type == "3THDX" || ballBox.cur.type == "2THFX" || ballBox.cur.type == "2BTH" || ballBox.cur.type == "3LHTX" || ballBox.cur.type == "X1HT") {
				alertTip("[" + gameName + " " + ballBox.cur.typeName + (ballBox.cur.way == 4 ? "-手工录入" : "") + "]不支持机选。", "err");
				return false
			}
			if (!gameCode || !ballBox.cur.type) {
				return
			}
			this.cleanBall();
			if (!g) {
				return false
			}
			g = g.toString().replace("注", "");
			if (isNaN(!g)) {
				return false
			}
			for (var c = 0; c < g; c++) {
				var f = lottery.award.arr_red.randomN(ballBox.cur.min).sort();
				if (gameCode == "SSQ" || gameCode == "DLT") {
					if (ballBox.cur.type == "12X2DS") {
						f = lottery.award.arr_blue.randomN(ballBox.cur.min).sort();
						ballBox.numbers.push([f.join(","), f.join(","), 1])
					} else {
						var a = lottery.award.arr_blue.randomN(ballBox.cur.bluemin).sort();
						ballBox.numbers.push([ballBox.cur.perch + f.join(",") + "|" + a.join(","), f.join(",") + "|" + a.join(","), 1])
					}
					ballBox.count = ballBox.count + 1
				} else {
					if (gameCode == "SDKLPK3") {
						f = lottery.award["arr_" + ballBox.cur.type].randomN(1).sort();
						ballBox.numbers.push([ballBox.cur.perch + f, SDKLPK3[f], 1]);
						ballBox.count = ballBox.count + 1
					} else {
						if (ballBox.cur.type == "ZX3DS") {
							var l = lottery.award.arr_red.random();
							while (l == f.toString()) {
								l = lottery.award.arr_red.random()
							}
							f = [f.toString(), f.toString(), l]
						} else {
							if (ballBox.cur.type == "DXDS") {
								f = ["1", "2", "4", "5"].randomN(ballBox.cur.min).sort()
							} else {
								if (ballBox.cur.type == "X1ST") {
									f = lottery.award.arr_x1st_red.randomN(ballBox.cur.min).sort()
								} else {
									var k;
									var d;
									if (gameCode == "JXSSC" && ballBox.cur.type == "RX1") {
										k = ["-", "-", "-", "-", "-"];
										d = Math.randome(0, 5);
										k[d] = f.join(",");
										f = k
									} else {
										if (gameCode == "JXSSC" && ballBox.cur.type == "RX2") {
											k = ["-", "-", "-", "-"];
											d = Math.randome(0, 4);
											k[d] = f.join(",");
											f = k
										} else {
											if (gameCode == "JSKS" && ballBox.cur.type == "2THDX") {
												var h = ["1", "2", "3", "4", "5", "6"];
												var j = h.random();
												var b = h.random();
												while (b == j) {
													b = h.random()
												}
												f = j + j + "#" + b
											} else {
												if (gameCode == "JSKS" && ballBox.cur.type == "3BTH") {
													f = ["1", "2", "4", "5"].randomN(ballBox.cur.min).sort()
												}
											}
										}
									}
								}
							}
						}
						ballBox.count = ballBox.count + 1;
						var e = 1;
						if (ballBox.cur.type == "3XZXZH") {
							e = 6
						}
						if (ballBox.cur.type == "ZX3FS") {
							e = 2
						}
						if (gameCode == "JSKS") {
							ballBox.numbers.push([ballBox.cur.perch + f, ballBox.convertNumberDisplay(f), e])
						} else {
							ballBox.numbers.push([ballBox.cur.perch + f.join(","), ballBox.convertNumberDisplay(f).join(","), e])
						}
					}
				}
			}
			ballBox.betAdd()
		},
		red: {
			rand: function() {
				var a = parseInt($("#rand_sel_red option:selected").val(), 10);
				var b = lottery.award.arr_red.randomN(a).sort();
				if (ballBox.cur.way == 2) {
					var c = new Array();
					$($(".danma li.numbers b")).each(function(e, f) {
						if (!$(f).attr("class")) {
							c.push($(f).text())
						}
					});
					if (gameCode == "DLT") {
						var d = ballBox.cur.max + 1 - (lottery.award.arr_red.length - c.length);
						a = a > d ? d : a;
						$("#rand_sel_red option[value='" + a + "']").attr("selected", "selected")
					}
					b = c.randomN(a).sort()
				}
				$(".redrow .ball li.numbers b").each(function(e, f) {
					if ($.inArray($(f).text(), b) >= 0) {
						$(f).addClass("selected_red")
					} else {
						$(this).removeAttr("class")
					}
				});
				ballBox.calNumber()
			},
			clean: function() {
				$(".redrow .ball li.numbers b").removeAttr("class");
				ballBox.calNumber()
			}
		},
		blue: {
			rand: function() {
				var a = $("#rand_sel_blue option:selected").val();
				var b = lottery.award.arr_blue.randomN(a).sort();
				if (ballBox.cur.way == 2 && gameCode == "DLT") {
					var c = new Array();
					$($("#dlt_dantuo_hd li.numbers b")).each(function(d, e) {
						if (!$(e).attr("class")) {
							c.push($(e).text())
						}
					});
					b = c.randomN(a).sort()
				}
				$($(".bluerow .ball li.numbers b")).each(function(d, e) {
					if ($.inArray($(e).text(), b) >= 0) {
						$(e).addClass("selected_blue")
					} else {
						$(this).removeAttr("class")
					}
				});
				ballBox.calNumber()
			},
			clean: function() {
				$(".bluerow .ball li.numbers b").removeAttr("class");
				ballBox.calNumber()
			}
		},
		cleanBall: function() {
			if (ballBox.cur.way == 4) {
				$("#import_numberarea").val("")
			} else {
				$(".ball li.numbers b").removeClass();
				$(".red_balls li.numbers b").removeClass()
			}
			ballBox.calNumber()
		}
	},
	hotlose: function() {
		var a = null;
		$($(".balltitle")).each(function(c, d) {
			if ($(d).find("li:eq(1)").attr("hotType")) {
				a = $(d).find("li:eq(1)").attr("hotType")
			}
		});
		if (!a) {
			a = $(".ballrow .balltitle option:selected").val()
		}
		if (a) {
			$.getJSON("/buy/losehot/" + gameCode + "?type=" + a + "&r=" + Math.random(), function(c) {
				if (c.IsSuccess) {
					b(c.Message)
				} else {
					return false
				}
			})
		}
		function b(e) {
			switch (gameCode) {
			case "JXSSC":
				var d = e.split("#");
				if ((ballBox.cur.way == 1 && ballBox.cur.type != "ZX3DS") || ballBox.cur.way == 5) {
					$($(".ball")).each(function(k, l) {
						var n = "";
						var m = d[d.length - $(".ball").length + k].split(",");
						$(m).each(function(i, o) {
							if (m.max() == o) {
								n += "<i class=yellow>" + o + "</i>"
							} else {
								n += "<i>" + o + "</i>"
							}
						});
						$(l).append("<li class=desc></li>");
						$(l).find("li:eq(1)").html(n)
					})
				} else {
					if (ballBox.cur.way == 2 || ballBox.cur.type == "ZX3DS") {
						var j = "";
						var h = d[0].split(",");
						$(h).each(function(i, l) {
							if (h.max() == l) {
								j += "<i class=yellow>" + l + "</i>"
							} else {
								j += "<i>" + l + "</i>"
							}
						});
						$(".ball:last").append("<li class=desc></li>");
						$(".ball:last li:eq(1)").html(j)
					}
				}
				break;
			case "CQSSC":
				var d = e.split("#");
				if ((ballBox.cur.way == 1 && ballBox.cur.type != "ZX3DS") || ballBox.cur.way == 5) {
					$($(".ball")).each(function(k, l) {
						var n = "";
						var m = d[d.length - $(".ball").length + k].split(",");
						$(m).each(function(i, o) {
							if (m.max() == o) {
								n += "<i class=yellow>" + o + "</i>"
							} else {
								n += "<i>" + o + "</i>"
							}
						});
						$(l).append("<li class=desc></li>");
						$(l).find("li:eq(1)").html(n)
					})
				} else {
					if (ballBox.cur.way == 2 || ballBox.cur.type == "ZX3DS") {
						var j = "";
						var h = d[0].split(",");
						$(h).each(function(i, l) {
							if (h.max() == l) {
								j += "<i class=yellow>" + l + "</i>"
							} else {
								j += "<i>" + l + "</i>"
							}
						});
						$(".ball:last").append("<li class=desc></li>");
						$(".ball:last li:eq(1)").html(j)
					}
				}
				break;
			case "PL3":
			case "FC3D":
				var d = e.split("#");
				if (ballBox.cur.type == "ZX3DS") {
					var j = "";
					var h = d[0].split(",");
					$(h).each(function(i, l) {
						if (h.max() == l) {
							j += "<i class=yellow>" + l + "</i>"
						} else {
							j += "<i>" + l + "</i>"
						}
					});
					$(".ball:last").append("<li class=desc></li>");
					$(".ball:last li:eq(1)").html(j)
				} else {
					if (ballBox.cur.way == 1) {
						$($(".ball")).each(function(k, l) {
							var n = "";
							var m = d[d.length - $(".ball").length + k].split(",");
							$(m).each(function(i, o) {
								if (m.max() == o) {
									n += "<i class=yellow>" + o + "</i>"
								} else {
									n += "<i>" + o + "</i>"
								}
							});
							$(l).append("<li class=desc></li>");
							$(l).find("li:eq(1)").html(n)
						})
					}
				}
				break;
			case "SD11X5":
			case "GD11X5":
			case "JX11X5":
				var d = e.split("#");
				if (ballBox.cur.way == 1) {
					$($(".ball")).each(function(k, l) {
						var n = "";
						var m = d[k].split(",");
						$(m).each(function(i, o) {
							if (m.max() == o) {
								n += "<i class=yellow>" + o + "</i>"
							} else {
								n += "<i>" + o + "</i>"
							}
						});
						$(l).append("<li class=desc></li>");
						$(l).find("li:eq(1)").html(n)
					})
				} else {
					if (ballBox.cur.way == 2) {
						var j = "";
						var h = d[0].split(",");
						$(h).each(function(i, l) {
							if (h.max() == l) {
								j += "<i class=yellow>" + l + "</i>"
							} else {
								j += "<i>" + l + "</i>"
							}
						});
						$(".ball:last").append("<li class=desc></li>");
						$(".ball:last li:eq(1)").html(j)
					}
				}
				break;
			case "SDQYH":
				var d = e.split(",");
				if (ballBox.cur.way == 2 || ballBox.cur.way == 5) {
					var j = "";
					$(d).each(function(i, l) {
						if (d.max() == l) {
							j += "<i class=yellow>" + l + "</i>"
						} else {
							j += "<i>" + l + "</i>"
						}
					});
					$(".ball:last").append("<li class=desc></li>");
					$(".ball:last li:eq(1)").html(j)
				} else {
					if (ballBox.cur.way == 1) {
						$($(".ball")).each(function(k, l) {
							var m = "";
							$($(l).find("li.numbers b")).each(function(i, n) {
								var o = d[i];
								if (d.max() == o) {
									m += "<i class=yellow>" + o + "</i>"
								} else {
									m += "<i>" + o + "</i>"
								}
							});
							$(l).append("<li class=desc></li>");
							$(l).find("li:eq(1)").html(m)
						})
					}
				}
				break;
			case "GXKLSF":
			case "GDKLSF":
				var d = e.split(",");
				var j = "";
				d.splice(0, parseInt($(".ball:last li.numbers b:first").text(), 10) - 1);
				d.splice(parseInt($(".ball:last li.numbers b:last").text(), 10), d.length - $(".ball:last li.numbers b").length);
				$($(".ball:last li.numbers b")).each(function(i, l) {
					var m = d[i];
					if (d.max() == m) {
						j += "<i class=yellow>" + m + "</i>"
					} else {
						j += "<i>" + m + "</i>"
					}
				});
				$(".ball:last").append("<li class=desc></li>");
				$(".ball:last li:eq(1)").html(j);
				break;
			case "SSQ":
			case "DLT":
				var d = e.split("#");
				if (ballBox.cur.way == 1 || ballBox.cur.way == 11) {
					var g = d[0].split(",");
					var c = d[1].split(",");
					for (var f = 0; f < 3; f++) {
						var j = "";
						$($(".ball:eq(" + f + ") li.numbers b")).each(function(i, l) {
							var m = g[parseInt($(l).text(), 10) - 1];
							if (g.max() == m && m > 0) {
								j += "<i class=yellow>" + m + "</i>"
							} else {
								j += "<i>" + m + "</i>"
							}
						});
						$(".ball:eq(" + f + ")").append("<li class=desc></li>");
						$(".ball:eq(" + f + ") li:eq(1)").html(j)
					}
					for (; f < 6; f++) {
						var j = "";
						$($(".ball:eq(" + f + ") li.numbers b")).each(function(i, l) {
							var m = c[parseInt($(l).text(), 10) - 1];
							if (c.max() == m && m > 0) {
								j += "<i class=yellow>" + m + "</i>"
							} else {
								j += "<i>" + m + "</i>"
							}
						});
						$(".ball:eq(" + f + ")").append("<li class=desc></li>");
						$(".ball:eq(" + f + ") li:eq(1)").html(j)
					}
				} else {
					if (ballBox.cur.way == 2) {
						var g = d[0].split(",");
						var c = d[1].split(",");
						for (var f = 0; f < 2; f++) {
							var j = "";
							$($(".ball:eq(" + f + ") li.numbers b")).each(function(i, l) {
								var m = g[parseInt($(l).text(), 10) - 1];
								if (g.max() == m && m > 0) {
									j += "<i class=yellow>" + m + "</i>"
								} else {
									j += "<i>" + m + "</i>"
								}
							});
							$(".ball:eq(" + f + "),.ball:eq(" + (f + 2) + ")").append("<li class=desc></li>");
							$(".ball:eq(" + f + ") li:eq(1),.ball:eq(" + (f + 2) + ") li:eq(1)").html(j)
						}
						for (f = 4; f < $(".ball").length; f++) {
							var j = "";
							$($(".ball:eq(" + f + ") li.numbers b")).each(function(i, l) {
								var m = c[parseInt($(l).text(), 10) - 1];
								if (c.max() == m && m > 0) {
									j += "<i class=yellow>" + m + "</i>"
								} else {
									j += "<i>" + m + "</i>"
								}
							});
							$(".ball:eq(" + f + ")").append("<li class=desc></li>");
							$(".ball:eq(" + f + ") li:eq(1)").html(j)
						}
					}
				}
				break;
			case "JSKS":
				break
			}
		}
	},
	cleanBox: function() {
		this.count = 0;
		this.numbers = new Array();
		$("#betstatics b").text(0);
		$(".choosenumberinfo input[type=button]:eq(0)").attr("class", "btn-addNumberToList")
	},
	initType: function() {
		function c() {
			ballBox.cur.reset();
			var g = $("#GameTypeList a[class*='on']").attr("val");
			var h = $("#GameTypeList a[class*='on']").attr("way");
			if ($("#" + gameCode + "_" + g + " :radio[name='gametype']:checked").length > 0) {
				g = $(":radio[name='gametype']:checked").val();
				h = $(":radio[name='gametype']:checked").attr("way")
			}
			ballBox.cur.type = g;
			ballBox.cur.way = (h == null ? 1 : parseInt(h, 10));
			$.extend(ballBox.cur, typeInfo(gameCode, ballBox.cur.type));
			if (ballBox.cur.way == 2) {
				ballBox.cur.typeName = ballBox.cur.typeName + "-胆拖"
			}
			if (ballBox.cur.way == 4) {
				ballBox.manual.init(ballBox.cur.manualOptions)
			}
			$("#multipleInfo em").text(ballBox.cur.maxAmount);
			ballBox.cleanBox();
			ballBox.bindBallClick();
			ballBox.toolClick();
			ballBox.hotlose();
			var f = $(".play-type .second");
			if (f.hasClass("on")) {
				$(f).find("a").click()
			}
		}
		function e() {
			var f = $("#GameTypeList a[class*='on']").attr("val");
			if (gameCode == "SSQ" || gameCode == "DLT") {
				f = $("#GameTypeList a[class*='on']").attr("url")
			}
			$("#" + gameCode + "_" + f).show().siblings("div").hide();
			if ($("#" + gameCode + "_" + f + " input[name='gametype']").length > 0) {
				if ($("#" + gameCode + "_" + f + " input[type='radio'][game='gametype'][checked='checked']").length < 1) {
					$("#" + gameCode + "_" + f + " input[type='radio'][name='gametype']:eq(0)").attr("checked", "checked")
				}
				d(f);
				$("input[type='button'][value='机选']").attr("disabled", false)
			} else {
				c();
				$("input[type='button'][value='机选']").attr("disabled", false)
			}
		}
		function d(i) {
			var h = $("#" + gameCode + "_" + i + " input[type='radio'][name='gametype']:checked").attr("url");
			if ($("#SubGameTypeContanior").length < 1) {
				var g = "<div id='SubGameTypeContanior'></div>";
				$("#GameBallsContanior").append(g)
			}
			var f = $("#" + gameCode + "_" + i + "_" + h);
			f.show().siblings(".playtype").hide();
			c();
			$("input[type='button'][value='机选']").attr("disabled", false)
		}
		function a() {
			$("#GameTypeList a[class!='on']").live("click", function() {
				$(this).addClass("on").siblings().removeClass("on");
				$(".numbers b").removeClass("selected_red").removeClass("selected_blue");
				e()
			});
			$(".bet_snav input[type='radio'][name='gametype']").live("change", function() {
				if (!$(this).attr("checked") != "checked") {
					$(".numbers b").removeClass("selected_red").removeClass("selected_blue");
					var f;
					if (gameCode == "SSQ" || gameCode == "DLT") {
						f = $("#GameTypeList a[class*='on']").attr("url")
					} else {
						f = $("#GameTypeList a[class*='on']").attr("val")
					}
					d(f)
				}
			});
			$(".ballrow .balltitle select").live("change", function() {
				ballBox.hotlose()
			})
		}
		a();
		var b;
		if (gameCode == "SSQ" || gameCode == "DLT") {
			b = $("#GameTypeList a[class*='on']").attr("url")
		} else {
			b = $("#GameTypeList a[class*='on']").attr("val")
		}
		if (undefined != b) {
			if (gameCode == "SSQ" || gameCode == "DLT") {
				$("#GameTypeList a[url=" + b + "]").click()
			} else {
				$("#GameTypeList a[val=" + b + "]").click()
			}
		} else {
			if ($("#GameTypeList a[class*=on]").length > 0) {
				e()
			} else {
				$("#GameTypeList a:eq(0)").click()
			}
		}
	},
	bindBallClick: function() {
		if (ballBox.cur.way == 2) {
			if (ballBox.cur.type == "3XBAODAN") {
				$(".ball li.numbers b").click(function() {
					$(this).addClass("selected_red").siblings("b").removeAttr("class");
					ballBox.calNumber()
				})
			} else {
				if (gameCode == "JSKS" && (ballBox.cur.type == "2BTHDT" || ballBox.cur.type == "3BTHDT")) {
					$(".danma li.numbers b").die().live("click", function(b) {
						b.stopPropagation();
						if ($(this).attr("class")) {
							$(this).removeAttr("class")
						} else {
							if ($(".danma li.numbers b.selected_red").length >= (ballBox.cur.min - 1)) {
								$(".danma li.numbers b.selected_red:eq(0)").removeAttr("class")
							}
							var c = $(this).text();
							$.each($(".tuoma li.numbers b.selected_red"), function(d, e) {
								if ($(e).text() == c) {
									$(e).removeAttr("class")
								}
							});
							$(this).addClass("selected_red")
						}
						ballBox.calNumber()
					});
					$(".tuoma li.numbers b").die().live("click", function(b) {
						b.stopPropagation();
						if ($(this).attr("class")) {
							$(this).removeAttr("class")
						} else {
							if (ballBox.cur.max > 0 && $(".tuoma li.numbers b.selected_red").length >= ballBox.cur.max) {
								alertTip("[" + gameName + " " + ballBox.cur.typeName + "]拖码个数不能超过" + ballBox.cur.max + "个！", "err");
								return
							}
							var c = $(this).text();
							$.each($(".danma li.numbers b.selected_red"), function(d, e) {
								if ($(e).text() == c) {
									$(e).removeAttr("class")
								}
							});
							$(this).addClass("selected_red")
						}
						ballBox.calNumber()
					})
				} else {
					$(".danma li.numbers b").die().live("click", function(b) {
						b.stopPropagation();
						if ($(this).attr("class")) {
							$(this).removeAttr("class")
						} else {
							if ($(".danma li.numbers b.selected_red").length >= (ballBox.cur.min - 1)) {
								$(".danma li.numbers b.selected_red:eq(0)").removeAttr("class")
							}
							if (gameCode == "DLT") {
								if ($(".danma li.numbers b.selected_red").length + $(".tuoma li.numbers b.selected_red").length >= ballBox.cur.max + 1) {
									$(".danma li.numbers b.selected_red:eq(0)").removeAttr("class")
								}
							}
							var c = $(this).text();
							$.each($(".tuoma li.numbers b.selected_red"), function(d, e) {
								if ($(e).text() == c) {
									$(e).removeAttr("class")
								}
							});
							$(this).addClass("selected_red")
						}
						ballBox.calNumber()
					});
					$(".tuoma li.numbers b").die().live("click", function() {
						if ($(this).attr("class")) {
							$(this).removeAttr("class")
						} else {
							if (ballBox.cur.max > 0 && $(".tuoma li.numbers b.selected_red").length >= ballBox.cur.max) {
								alertTip("[" + gameName + " " + ballBox.cur.typeName + "]拖码个数不能超过" + ballBox.cur.max + "个！", "err");
								return
							}
							if (gameCode == "DLT") {
								if ($(".danma li.numbers b.selected_red").length + $(".tuoma li.numbers b.selected_red").length >= ballBox.cur.max + 1) {
									alertTip("[" + gameName + " " + ballBox.cur.typeName + "]前区拖码+胆码个数不能超过" + (ballBox.cur.max + 1) + "个！", "err");
									return
								}
							}
							var b = $(this).text();
							$.each($(".danma li.numbers b.selected_red"), function(c, d) {
								if ($(d).text() == b) {
									$(d).removeAttr("class")
								}
							});
							$(this).addClass("selected_red")
						}
						ballBox.calNumber()
					});
					$("#ssq_dantuo_blue li.numbers b").die().live("click", function() {
						if ($(this).attr("class")) {
							$(this).removeAttr("class")
						} else {
							if (ballBox.cur.bluemax > 0 && $(".ball li.numbers b.selected_blue").length >= ballBox.cur.bluemax) {
								alertTip("[" + gameName + " " + ballBox.cur.typeName + "]蓝球最大选球个数不能超过" + ballBox.cur.bluemax + "个！", "err");
								return
							}
							$(this).addClass("selected_blue")
						}
						ballBox.calNumber()
					});
					$("#dlt_dantuo_hd li.numbers b").die().live("click", function() {
						if ($(this).attr("class")) {
							$(this).removeAttr("class")
						} else {
							if ($("#dlt_dantuo_hd li.numbers b.selected_blue").length >= ballBox.cur.bluemin - 1) {
								$("#dlt_dantuo_hd li.numbers b.selected_blue:eq(0)").removeAttr("class")
							}
							var b = $(this).text();
							$.each($("#dlt_dantuo_ht li.numbers b.selected_blue"), function(c, d) {
								if ($(d).text() == b) {
									$(d).removeAttr("class")
								}
							});
							$(this).addClass("selected_blue")
						}
						ballBox.calNumber()
					});
					$("#dlt_dantuo_ht li.numbers b").die().live("click", function() {
						if ($(this).attr("class")) {
							$(this).removeAttr("class")
						} else {
							if (ballBox.cur.max > 0 && $("#dlt_dantuo_ht li.numbers b.selected_blue").length >= ballBox.cur.bluemax) {
								alertTip("[" + gameName + " " + ballBox.cur.typeName + "]后区拖码个数不能超过" + ballBox.cur.bluemax + "个！", "err");
								return
							}
							var b = $(this).text();
							$.each($("#dlt_dantuo_hd li.numbers b.selected_blue"), function(c, d) {
								if ($(d).text() == b) {
									$(d).removeAttr("class")
								}
							});
							$(this).addClass("selected_blue")
						}
						ballBox.calNumber()
					})
				}
			}
		} else {
			if (gameCode == "SSQ" || gameCode == "DLT") {
				$(".redrow .ball li.numbers b").die().live("click", function() {
					if ($(this).attr("class")) {
						$(this).removeAttr("class")
					} else {
						if (ballBox.cur.max > 0 && $(".ball li.numbers b.selected_red").length >= ballBox.cur.max) {
							alertTip("[" + gameName + " " + ballBox.cur.typeName + "]最大选球个数不能超过" + ballBox.cur.max + "个！", "err");
							return
						}
						$(this).addClass("selected_red")
					}
					ballBox.calNumber()
				});
				$(".bluerow .ball li.numbers b").die().live("click", function() {
					if ($(this).attr("class")) {
						$(this).removeAttr("class")
					} else {
						if (ballBox.cur.bluemax > 0 && $(".ball li.numbers b.selected_blue").length >= ballBox.cur.bluemax) {
							alertTip("[" + gameName + " " + ballBox.cur.typeName + "]蓝球最大选球个数不能超过" + ballBox.cur.bluemax + "个！", "err");
							return
						}
						$(this).addClass("selected_blue")
					}
					ballBox.calNumber()
				});
				$("#dlt_12x2 .ball li.numbers b").click(function() {
					if ($(this).attr("class")) {
						$(this).removeAttr("class")
					} else {
						$(this).addClass("selected_red")
					}
					ballBox.calNumber()
				})
			} else {
				if (gameCode == "JSKS" && ballBox.cur.type == "2THDX") {
					$(".th li.numbers b").die().click(function(b) {
						b.stopPropagation();
						if ($(this).attr("class")) {
							$(this).removeAttr("class")
						} else {
							var c = $(this).attr("val");
							$.each($(".bth li.numbers b.selected_red"), function(d, e) {
								if ($(e).attr("val") == c) {
									$(e).removeAttr("class")
								}
							});
							$(this).addClass("selected_red")
						}
						ballBox.calNumber()
					});
					$(".bth li.numbers b").die().click(function(b) {
						b.stopPropagation();
						if ($(this).attr("class")) {
							$(this).removeAttr("class")
						} else {
							var c = $(this).attr("val");
							$.each($(".th li.numbers b.selected_red"), function(d, e) {
								if ($(e).attr("val") == c) {
									$(e).removeAttr("class")
								}
							});
							$(this).addClass("selected_red")
						}
						ballBox.calNumber()
					})
				} else {
					if (gameCode == "SDKLPK3") {
						var a;
						if (ballBox.cur.type == "TH") {
							a = $("#thdx span,#thbx span")
						} else {
							if (ballBox.cur.type == "SZ") {
								a = $("#szdx span,#szbx .szx,.ths1,.ths2,.ths3,.ths4,.thsx")
							} else {
								if (ballBox.cur.type == "DZ") {
									a = $(".dz>span,.dz .szx,.bz>span,.bz .szx")
								} else {
									if (ballBox.cur.type == "RX1" || ballBox.cur.type == "RX2" || ballBox.cur.type == "RX3" || ballBox.cur.type == "RX4" || ballBox.cur.type == "RX5" || ballBox.cur.type == "RX6") {
										a = $("#rx1 span,#rx2 span,#rx3 span,#rx4 span,#rx5 span,#rx6 span")
									}
								}
							}
						}
						a.die().live("click", function(b) {
							b.stopPropagation();
							$(this).toggleClass("selected_red");
							ballBox.calNumber()
						})
					} else {
						$(".ball li.numbers b").die().live("click", function(b) {
							b.stopPropagation();
							if ($(this).attr("class")) {
								$(this).removeAttr("class")
							} else {
								if ((ballBox.cur.type == "ZX3DS" && ballBox.cur.way != 3) || ballBox.cur.type == "DXDS") {
									$(this).addClass("selected_red").parent().siblings("li").find("b").removeAttr("class")
								} else {
									if (ballBox.cur.max > 0 && $(".ball li.numbers b.selected_red").length >= ballBox.cur.max) {
										alertTip("[" + gameName + " " + ballBox.cur.typeName + "]最大选球个数不能超过" + ballBox.cur.max + "个！", "err");
										return
									}
									$(this).addClass("selected_red")
								}
							}
							ballBox.calNumber()
						})
					}
				}
			}
		}
	},
	calNumber: function() {
		this.cleanBox();
		var h;
		if (gameCode == "SSQ" || gameCode == "DLT") {
			h = $("#GameTypeList a[class*='on']").attr("url")
		} else {
			h = $("#GameTypeList a[class*='on']").attr("val")
		}
		var V = $("#" + gameCode + "_" + h + " input[type='radio'][name='gametype']:checked").attr("url");
		switch (gameCode) {
		case "SDKLPK3":
			var g;
			var b = [];
			var A = [];
			switch (ballBox.cur.type) {
			case "TH":
				$("#thdx span.selected_red").each(function(i, j) {
					g = $(j).attr("data-val");
					b.push(g);
					A.push(SDKLPK3[g])
				});
				if (b.length > 0 && A.length > 0) {
					ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
				}
				$("#thbx span.selected_red").each(function(i, j) {
					g = $(j).attr("data-val");
					ballBox.numbers.push([ballBox.cur.perch + g, SDKLPK3[g]])
				});
				break;
			case "SZ":
				if (V == "SZ") {
					$("#szdx span.selected_red").each(function(i, j) {
						g = $(j).attr("data-val");
						b.push(g);
						A.push(SDKLPK3[g])
					});
					if (b.length > 0 && A.length > 0) {
						ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
					}
					b = [], A = [];
					$("#szbx .sz div.selected_red").each(function(i, j) {
						g = $(j).attr("data-val");
						b.push(g);
						A.push(SDKLPK3[g])
					});
					if (b.length > 0 && A.length > 0) {
						ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
					}
				} else {
					if (V == "THS") {
						var a;
						$(".ths1,.ths2,.ths3,.ths4").each(function(i, j) {
							a = $(j);
							if (a.hasClass("selected_red")) {
								g = a.attr("data-val");
								b.push(g);
								A.push(SDKLPK3[g])
							}
						});
						if (b.length > 0 && A.length > 0) {
							ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
						}
						b = [], A = [];
						$(".thsx").each(function(i, j) {
							a = $(j);
							if (a.hasClass("selected_red")) {
								g = a.attr("data-val");
								b.push(g);
								A.push(SDKLPK3[g])
							}
						});
						if (b.length > 0 && A.length > 0) {
							ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
						}
					}
				}
				break;
			case "DZ":
				if (V == "DZ") {
					$(".dz span.selected_red").each(function(i, j) {
						g = $(j).attr("data-val");
						b.push(g);
						A.push(SDKLPK3[g])
					});
					if (b.length > 0 && A.length > 0) {
						ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
					}
					b = [], A = [];
					$(".dz .szx").each(function(i, j) {
						a = $(j);
						if (a.hasClass("selected_red")) {
							g = a.attr("data-val");
							b.push(g);
							A.push(SDKLPK3[g])
						}
					});
					if (b.length > 0 && A.length > 0) {
						ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
					}
				} else {
					if (V == "BZ") {
						$(".bz span.selected_red").each(function(i, j) {
							a = $(j);
							if (a.hasClass("selected_red")) {
								g = a.attr("data-val");
								b.push(g);
								A.push(SDKLPK3[g])
							}
						});
						if (b.length > 0 && A.length > 0) {
							ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
						}
						b = [], A = [];
						$(".bz .szx").each(function(i, j) {
							a = $(j);
							if (a.hasClass("selected_red")) {
								g = a.attr("data-val");
								b.push(g);
								A.push(SDKLPK3[g])
							}
						});
						if (b.length > 0 && A.length > 0) {
							ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
						}
					}
				}
				break;
			case "RX1":
			case "RX2":
			case "RX3":
			case "RX4":
			case "RX5":
			case "RX6":
				$("#" + ballBox.cur.type.toLowerCase() + " span.selected_red").each(function(i, j) {
					g = $(j).attr("data-val");
					b.push(g);
					A.push(SDKLPK3[g])
				});
				if (b.length > 0 && A.length > 0) {
					ballBox.numbers.push([ballBox.cur.perch + b.join(","), A.join(",")])
				}
				break
			}
			break;
		case "JXSSC":
			switch (ballBox.cur.way) {
			case 1:
				switch (ballBox.cur.type) {
				case "1XDX":
				case "2XDX":
				case "3XDX":
				case "4XDX":
				case "5XDX":
					var L = new Array();
					$(".ball").each(function(i, W) {
						var l = $(W).find("li.numbers b.selected_red");
						var j = new Array();
						$.each(l, function(k, X) {
							j.push($(l[k]).text())
						});
						L.push(j.join(""))
					});
					ballBox.numbers.push([ballBox.cur.perch + L.join(","), L.join(",")]);
					break;
				case "5XTX":
					var I = new Array();
					$.each($(".ball"), function(j, l) {
						var i = new Array();
						$($(l).find("li.numbers b.selected_red")).each(function(k, W) {
							i.push($(W).text())
						});
						I.push(i)
					});
					Math.arrange(I, function(i) {
						ballBox.numbers.push([ballBox.cur.perch + i.join(","), i.join(",")])
					});
					break;
				case "2XZX":
				case "ZX6":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
					break;
				case "DXDS":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).attr("val"))
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), ballBox.convertNumberDisplay(I).join(",")]);
					break;
				case "2XHZ":
					var R = $(".ball li.numbers b.selected_red");
					$(R).each(function(j, l) {
						var i = $(l).text();
						ballBox.numbers.push([ballBox.cur.perch + i, i])
					});
					break;
				case "ZX3DS":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					if (I.length == 3 && I.distinctN().length == 2) {
						ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
					}
					break;
				case "ZX3FS":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
					break;
				case "RX1":
					$($(".ball")).each(function(j, k) {
						$($(k).find("li.numbers b.selected_red")).each(function(i, l) {
							var W = ["-", "-", "-", "-", "-"];
							W[j] = $(l).text();
							ballBox.numbers.push([W.join(","), W.join(",")])
						})
					});
					break;
				case "RX2":
					var C = $(".ball:eq(4) li.numbers b.selected_red");
					var D = $(".ball:eq(3) li.numbers b.selected_red");
					var E = $(".ball:eq(2) li.numbers b.selected_red");
					var F = $(".ball:eq(1) li.numbers b.selected_red");
					var G = $(".ball:eq(0) li.numbers b.selected_red");
					var z = [G, F, E, D, C];
					for (var s = 0; s < 5; s++) {
						for (var w = s + 1; w < 5; w++) {
							var u = z[s];
							var v = z[w];
							if (u.length > 0 && v.length > 0) {
								for (var x = 0; x < u.length; x++) {
									for (var y = 0; y < v.length; y++) {
										var U = ["-", "-", "-", "-", "-"];
										U[s] = $(u[x]).text();
										U[w] = $(v[y]).text();
										ballBox.numbers.push([U.join(","), U.join(",")])
									}
								}
							}
						}
					}
					break;
				case "2XBAODIAN":
					var R = $(".ball li.numbers b.selected_red");
					$(R).each(function(j, l) {
						var i = $(l).text();
						ballBox.numbers.push([ballBox.cur.perch + i, i])
					});
					break
				}
				break;
			case 2:
				var R = $(".ball li.numbers b.selected_red");
				var I = new Array();
				$(R).each(function(i, j) {
					I.push($(j).text())
				});
				if ($(".ball").length == 2 && R.length == 2) {
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
				} else {
					if ($(".ball").length == 1 && R.length == 1) {
						ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
					}
				}
				break;
			case 3:
				var R = $(".ball li.numbers b.selected_red");
				$(R).each(function(aa, ac) {
					var W = $(ac).text();
					var X = parseInt($(ac).attr("count"), 10);
					if (ballBox.cur.type == "3XDX") {
						ballBox.split3XSum(W, function(j, k, l) {
							ballBox.numbers.push([ballBox.cur.perch + j + "," + k + "," + l, j + "," + k + "," + l])
						})
					} else {
						if (ballBox.cur.type == "ZX6") {
							ballBox.splitZX6Sum(W, function(j, k, l) {
								ballBox.numbers.push([ballBox.cur.perch + j + "," + k + "," + l, j + "," + k + "," + l])
							})
						} else {
							if (ballBox.cur.type == "ZX3DS") {
								var Y = parseInt(W, 10);
								var ad = new Array();
								for (var Z = 0; Z <= 9; Z++) {
									if (Z > Y) {
										break
									}
									for (var aa = 0; aa <= 9; aa++) {
										if (aa > Y) {
											break
										}
										for (var ab = 0; ab <= 9; ab++) {
											if (ab > Y) {
												break
											}
											if (Y == (Z + aa + ab)) {
												if (ballBox.isZU3(Z, aa, ab)) {
													var i = ballBox.ZU3_Key(Z, aa, ab);
													if ($.inArray(i, ad) == -1) {
														ad.push(i);
														ballBox.numbers.push([ballBox.cur.perch + Z + "," + aa + "," + ab, Z + "," + aa + "," + ab])
													}
												}
											}
										}
									}
								}
							} else {
								ballBox.numbers.push([ballBox.cur.perch + W, W])
							}
						}
					}
				});
				break;
			case 4:
				this.manual.calManual(lottery.award.arr_red);
				break
			}
			break;
		case "CQSSC":
			switch (ballBox.cur.way) {
			case 1:
				switch (ballBox.cur.type) {
				case "1XDX":
				case "2XDX":
				case "3XDX":
				case "5XDX":
				case "3XBAODAN":
				case "2XZXFW":
					var L = new Array();
					$("#" + gameCode + "_" + h + (V != undefined ? "_" + V : "") + " .ball").each(function(i, W) {
						var l = $(W).find("li.numbers b.selected_red");
						var j = new Array();
						$.each(l, function(k, X) {
							j.push($(l[k]).text())
						});
						L.push(j.join(""))
					});
					ballBox.numbers.push([ballBox.cur.perch + L.join(","), L.join(",")]);
					break;
				case "5XTX":
					var I = new Array();
					$.each($("#" + gameCode + "_" + h + (V != undefined ? "_" + V : "") + " .ball"), function(j, l) {
						var i = new Array();
						$($(l).find("li.numbers b.selected_red")).each(function(k, W) {
							i.push($(W).text())
						});
						I.push(i)
					});
					Math.arrange(I, function(i) {
						ballBox.numbers.push([ballBox.cur.perch + i.join(","), i.join(",")])
					});
					break;
				case "2XZXFS":
				case "ZX6":
				case "3XZXZH":
				case "ZX3FS":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
					break;
				case "DXDS":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).attr("val"))
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), ballBox.convertNumberDisplay(I).join(",")]);
					break;
				case "2XHZ":
				case "3XHZ":
				case "2XBAODAN":
				case "2XBAODIAN":
				case "3XBAODIAN":
					var R = $(".ball li.numbers b.selected_red");
					$(R).each(function(j, l) {
						var i = $(l).text();
						ballBox.numbers.push([ballBox.cur.perch + i, i])
					});
					break;
				case "ZX3DS":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					if (I.length == 3 && I.distinctN().length == 2) {
						ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
					}
					break
				}
				break;
			case 2:
				var R = $(".ball li.numbers b.selected_red");
				var I = new Array();
				$(R).each(function(i, j) {
					I.push($(j).text())
				});
				if ($(".ball").length == 2 && R.length == 2) {
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
				} else {
					if ($(".ball").length == 1 && R.length == 1) {
						ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
					}
				}
				break;
			case 3:
				var R = $(".ball li.numbers b.selected_red");
				$(R).each(function(aa, ac) {
					var W = $(ac).text();
					var X = parseInt($(ac).attr("count"), 10);
					if (ballBox.cur.type == "3XDX") {
						ballBox.split3XSum(W, function(j, k, l) {
							ballBox.numbers.push([ballBox.cur.perch + j + "," + k + "," + l, j + "," + k + "," + l])
						})
					} else {
						if (ballBox.cur.type == "ZX6") {
							ballBox.splitZX6Sum(W, function(j, k, l) {
								ballBox.numbers.push([ballBox.cur.perch + j + "," + k + "," + l, j + "," + k + "," + l])
							})
						} else {
							if (ballBox.cur.type == "ZX3DS") {
								var Y = parseInt(W, 10);
								var ad = new Array();
								for (var Z = 0; Z <= 9; Z++) {
									if (Z > Y) {
										break
									}
									for (var aa = 0; aa <= 9; aa++) {
										if (aa > Y) {
											break
										}
										for (var ab = 0; ab <= 9; ab++) {
											if (ab > Y) {
												break
											}
											if (Y == (Z + aa + ab)) {
												if (ballBox.isZU3(Z, aa, ab)) {
													var i = ballBox.ZU3_Key(Z, aa, ab);
													if ($.inArray(i, ad) == -1) {
														ad.push(i);
														ballBox.numbers.push([ballBox.cur.perch + Z + "," + aa + "," + ab, Z + "," + aa + "," + ab])
													}
												}
											}
										}
									}
								}
							} else {
								ballBox.numbers.push([ballBox.cur.perch + W, W])
							}
						}
					}
				});
				break;
			case 4:
				this.manual.calManual(lottery.award.arr_red);
				break
			}
			break;
		case "FC3D":
		case "PL3":
			switch (ballBox.cur.way) {
			case 1:
				switch (ballBox.cur.type) {
				case "FS":
					var L = new Array();
					$("#" + gameCode + "_" + h + "_" + V + " .ball").each(function(i, W) {
						var l = $(W).find("li.numbers b.selected_red");
						var j = new Array();
						$.each(l, function(k, X) {
							j.push($(l[k]).text())
						});
						L.push(j.join(""))
					});
					ballBox.numbers.push([ballBox.cur.perch + L.join(","), L.join(",")]);
					break;
				case "HZ":
					var R = $(".ball li.numbers b.selected_red");
					$(R).each(function(j, l) {
						var i = $(l).text();
						ballBox.numbers.push([ballBox.cur.perch + i, i])
					});
					break;
				case "ZX3DS":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					if (I.length == 3 && I.distinctN().length == 2) {
						ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
					}
					break;
				case "ZX3FS":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
					break;
				case "ZX6":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
					break
				}
				break;
			case 2:
				var o = $("#" + gameCode + "_" + h + "_" + V + " .danma li.numbers b.selected_red");
				var T = $("#" + gameCode + "_" + h + "_" + V + " .tuoma li.numbers b.selected_red");
				var I = new Array();
				$(o).each(function(i, j) {
					I.push($(j).text())
				});
				var Q = new Array();
				$(T).each(function(i, j) {
					Q.push($(j).text())
				});
				var B = Math.C(Q, (ballBox.cur.min - I.length));
				if (I.length > 0 && B.length > 0) {
					$(B).each(function(i, j) {
						ballBox.numbers.push([I.join(",") + "," + j, I.join(",") + "," + j])
					})
				}
				break;
			case 3:
				var R = $(".ball li.numbers b.selected_red");
				$(R).each(function(aa, ac) {
					var W = $(ac).text();
					var X = parseInt($(ac).attr("count"), 10);
					if (ballBox.cur.type == "ZX6") {
						ballBox.splitZX6Sum(W, function(j, k, l) {
							ballBox.numbers.push([ballBox.cur.perch + j + "," + k + "," + l, j + "," + k + "," + l])
						})
					} else {
						if (ballBox.cur.type == "ZX3DS") {
							var Y = parseInt(W, 10);
							var ad = new Array();
							for (var Z = 0; Z <= 9; Z++) {
								if (Z > Y) {
									break
								}
								for (var aa = 0; aa <= 9; aa++) {
									if (aa > Y) {
										break
									}
									for (var ab = 0; ab <= 9; ab++) {
										if (ab > Y) {
											break
										}
										if (Y == (Z + aa + ab)) {
											if (ballBox.isZU3(Z, aa, ab)) {
												var i = ballBox.ZU3_Key(Z, aa, ab);
												if ($.inArray(i, ad) == -1) {
													ad.push(i);
													ballBox.numbers.push([ballBox.cur.perch + Z + "," + aa + "," + ab, Z + "," + aa + "," + ab])
												}
											}
										}
									}
								}
							}
						} else {
							ballBox.numbers.push([ballBox.cur.perch + W, W])
						}
					}
				});
				break;
			case 4:
				this.manual.calManual(lottery.award.arr_red);
				break
			}
			break;
		case "SD11X5":
		case "GD11X5":
		case "JX11X5":
			switch (ballBox.cur.way) {
			case 1:
				switch (ballBox.cur.type) {
				case "RX1":
				case "RX2":
				case "RX3":
				case "RX4":
				case "RX5":
				case "RX6":
				case "RX7":
				case "RX8":
				case "Q2ZUX":
				case "Q3ZUX":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
					break;
				case "Q2ZHIX":
				case "Q3ZHIX":
					var I = new Array();
					$.each($(".ball"), function(j, l) {
						var i = new Array();
						$($(l).find("li.numbers b.selected_red")).each(function(k, W) {
							i.push($(W).text())
						});
						if (i.length > 0) {
							I.push(i.join(" "))
						}
					});
					if (I.length == ballBox.cur.min) {
						ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
					}
					break
				}
				break;
			case 2:
				var o = $("#" + gameCode + "_" + h + "_" + V + " .danma li.numbers b.selected_red");
				var T = $("#" + gameCode + "_" + h + "_" + V + " .tuoma li.numbers b.selected_red");
				var I = new Array();
				$(o).each(function(i, j) {
					I.push($(j).text())
				});
				var Q = new Array();
				$(T).each(function(i, j) {
					Q.push($(j).text())
				});
				var B = Math.C(Q, (ballBox.cur.min - I.length));
				if (I.length > 0 && B.length > 0) {
					$(B).each(function(i, j) {
						ballBox.numbers.push([I.join(",") + "," + j, I.join(",") + "," + j])
					})
				}
				break;
			case 4:
				this.manual.calManual(lottery.award.arr_red);
				break
			}
			break;
		case "SDQYH":
			switch (ballBox.cur.way) {
			case 1:
				switch (ballBox.cur.type) {
				case "RX1":
				case "RX2":
				case "RX3":
				case "RX4":
				case "RX5":
				case "RX6":
				case "RX7":
				case "RX8":
				case "RX9":
				case "RX10":
				case "W2":
				case "W3":
				case "W4":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
					break;
				case "S1":
				case "S2":
				case "S3":
					var I = new Array();
					$.each($(".ball"), function(j, l) {
						var i = new Array();
						$($(l).find("li.numbers b.selected_red")).each(function(k, W) {
							i.push($(W).text())
						});
						if (i.length > 0) {
							I.push(i.join(" "))
						}
					});
					if (I.length == ballBox.cur.min) {
						ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
					}
					break
				}
				break;
			case 2:
				var o = $(".ball:eq(0) li.numbers b.selected_red");
				var T = $(".ball:eq(1) li.numbers b.selected_red");
				var I = new Array();
				$(o).each(function(i, j) {
					I.push($(j).text())
				});
				var Q = new Array();
				$(T).each(function(i, j) {
					Q.push($(j).text())
				});
				var B = Math.C(Q, (ballBox.cur.min - I.length));
				if (I.length > 0 && B.length > 0) {
					$(B).each(function(i, j) {
						ballBox.numbers.push([I.join(",") + "," + j, I.join(",") + "," + j])
					})
				}
				break;
			case 4:
				this.manual.calManual(lottery.award.arr_red);
				break
			}
			break;
		case "GDKLSF":
			switch (ballBox.cur.way) {
			case 1:
				switch (ballBox.cur.type) {
				case "RX2":
				case "RX3":
				case "RX4":
				case "RX5":
				case "X1ST":
				case "X1HT":
				case "X2LZU":
				case "X3QZU":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
					break;
				case "X2LZHI":
				case "X3QZHI":
					var I = new Array();
					$.each($(".ball"), function(j, l) {
						var i = new Array();
						$($(l).find("li.numbers b.selected_red")).each(function(k, W) {
							i.push($(W).text())
						});
						if (i.length > 0) {
							I.push(i.join(" "))
						}
					});
					if (I.length == ballBox.cur.min) {
						ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")])
					}
					break
				}
				break;
			case 2:
				var o = $("#" + gameCode + "_" + h + "_" + V + " .danma li.numbers b.selected_red");
				var T = $("#" + gameCode + "_" + h + "_" + V + " .tuoma li.numbers b.selected_red");
				var I = new Array();
				$(o).each(function(i, j) {
					I.push($(j).text())
				});
				var Q = new Array();
				$(T).each(function(i, j) {
					Q.push($(j).text())
				});
				var B = Math.C(Q, (ballBox.cur.min - I.length));
				if (I.length > 0 && B.length > 0) {
					$(B).each(function(i, j) {
						ballBox.numbers.push([I.join(",") + "," + j, I.join(",") + "," + j])
					})
				}
				break;
			case 4:
				this.manual.calManual(lottery.award.arr_red);
				break
			}
			break;
		case "GXKLSF":
			switch (ballBox.cur.way) {
			case 1:
				var R = $(".ball li.numbers b.selected_red");
				var I = new Array();
				$.each(R, function(j, k) {
					I.push($(R[j]).text())
				});
				ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
				break;
			case 2:
				var o = $(".ball:eq(0) li.numbers b.selected_red");
				var T = $(".ball:eq(1) li.numbers b.selected_red");
				var I = new Array();
				$(o).each(function(i, j) {
					I.push($(j).text())
				});
				var Q = new Array();
				$(T).each(function(i, j) {
					Q.push($(j).text())
				});
				var B = Math.C(Q, (ballBox.cur.min - I.length));
				if (I.length > 0 && B.length > 0) {
					$(B).each(function(i, j) {
						ballBox.numbers.push([I.join(",") + "," + j, I.join(",") + "," + j])
					})
				}
				break;
			case 4:
				this.manual.calManual(lottery.award.arr_red);
				break
			}
			break;
		case "SSQ":
			switch (ballBox.cur.way) {
			case 1:
				var R = $(".ball li.numbers b.selected_red");
				var d = $(".ball li.numbers b.selected_blue");
				var I = new Array();
				$.each(R, function(j, k) {
					I.push($(R[j]).text())
				});
				var e = new Array();
				$.each(d, function(i, j) {
					e.push($(j).text())
				});
				if (I.length >= ballBox.cur.min && e.length >= ballBox.cur.bluemin) {
					ballBox.numbers.push([ballBox.cur.perch + I.join(",") + "|" + e.join(","), I.join(",") + "|" + e.join(",")])
				}
				break;
			case 2:
				var o = $(".danma li.numbers b.selected_red");
				var T = $(".tuoma li.numbers b.selected_red");
				var c = $(".bluerow li.numbers b.selected_blue");
				var I = new Array();
				$(o).each(function(i, j) {
					I.push($(j).text())
				});
				var Q = new Array();
				$(T).each(function(i, j) {
					Q.push($(j).text())
				});
				var J = new Array();
				$(c).each(function(i, j) {
					J.push($(j).text())
				});
				var m = Math.nCr(Q.length, (ballBox.cur.min - I.length));
				if (I.length > 0 && m > 0 && I.length + Q.length >= ballBox.cur.min && J.length >= ballBox.cur.bluemin) {
					var t = I.join(",") + "|" + Q.join(",") + "|" + J.join(",");
					var n = "[<em class=red>胆</em>] " + I.join(",") + "<br/>[<em class=green>拖</em>] " + Q.join(",") + "<br/>[<em class=blue>蓝</em>] " + J.join(",");
					ballBox.numbers.push([t, n])
				}
				break;
			case 4:
				this.manual.calManual([lottery.award.arr_red, lottery.award.arr_blue]);
				break
			}
			break;
		case "DLT":
			switch (ballBox.cur.way) {
			case 1:
				switch (ballBox.cur.type) {
				case "12X2DS":
					var R = $(".ball li.numbers b.selected_red");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
					break;
				default:
					var R = $(".ball li.numbers b.selected_red");
					var d = $(".ball li.numbers b.selected_blue");
					var I = new Array();
					$.each(R, function(j, k) {
						I.push($(R[j]).text())
					});
					var e = new Array();
					$.each(d, function(i, j) {
						e.push($(j).text())
					});
					if (I.length >= ballBox.cur.min && e.length >= ballBox.cur.bluemin) {
						ballBox.numbers.push([ballBox.cur.perch + I.join(",") + "|" + e.join(","), I.join(",") + "|" + e.join(",")])
					}
					break
				}
				break;
			case 2:
				var o = $(".danma li.numbers b.selected_red");
				var T = $(".tuoma li.numbers b.selected_red");
				var q = $("#dlt_dantuo_hd li.numbers b.selected_blue");
				var r = $("#dlt_dantuo_ht li.numbers b.selected_blue");
				var I = new Array();
				$(o).each(function(i, j) {
					I.push($(j).text())
				});
				var Q = new Array();
				$(T).each(function(i, j) {
					Q.push($(j).text())
				});
				var N = new Array();
				$(q).each(function(i, j) {
					N.push($(j).text())
				});
				var O = new Array();
				$(r).each(function(i, j) {
					O.push($(j).text())
				});
				var m = Math.nCr(Q.length, (ballBox.cur.min - I.length));
				var p = Math.nCr(O.length, (ballBox.cur.bluemin - N.length));
				if (I.length > 0 && m * p > 0 && I.length + Q.length >= ballBox.cur.min && O.length >= ballBox.cur.bluemin && N.length >= 1) {
					var t = I.join(",") + "|" + Q.join(",") + "|" + N.join(",") + "|" + O.join(",");
					var n = "[<em class=red>前区|胆</em>] " + I.join(",") + "<br/>[<em class=green>前区|拖</em>] " + Q.join(",") + "<br/>[<em class=red>后区|胆</em>] " + N.join(",") + "<br/>[<em class=green>后区|拖</em>] " + O.join(",");
					ballBox.numbers.push([t, n])
				}
				break;
			case 4:
				this.manual.calManual([lottery.award.arr_red, lottery.award.arr_blue]);
				break
			}
			break;
		case "JSKS":
			switch (ballBox.cur.type) {
			case "HZ":
				var R = $(".ball li.numbers b.selected_red");
				$(R).each(function(j, l) {
					var i = $.trim($(l).text());
					if (i == "3") {
						i = "111"
					}
					if (i == "18") {
						i = "666"
					}
					ballBox.numbers.push([ballBox.cur.perch + i, i])
				});
				break;
			case "2THDX":
				var S = $(".th li.numbers b.selected_red");
				var f = $(".bth li.numbers b.selected_red");
				var P = new Array();
				$(S).each(function(i, j) {
					P.push($(j).text())
				});
				var K = new Array();
				$(f).each(function(i, j) {
					K.push($(j).text())
				});
				if (P.length > 0 && K.length > 0) {
					var t = P.join(",") + "#" + K.join(",");
					ballBox.numbers.push([t, t])
				}
				break;
			case "3THDX":
			case "3THTX":
			case "3LHTX":
				var R = $(".ball li.numbers b.selected_red");
				var I = new Array();
				$.each(R, function(j, k) {
					I.push($(R[j]).text())
				});
				ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
				break;
			case "2BTHDT":
			case "3BTHDT":
				var o = $(".danma li.numbers b.selected_red");
				var T = $(".tuoma li.numbers b.selected_red");
				var M = new Array();
				$(o).each(function(j, k) {
					M.push($(k).text())
				});
				var Q = new Array();
				$(T).each(function(i, j) {
					Q.push($(j).text())
				});
				var H = [M.join(","), Q.join(",")];
				if (M.length > 0 && (M.length + Q.length >= ballBox.cur.min)) {
					ballBox.numbers.push([H.join("#"), H.join("#")])
				}
				break;
			default:
				var R = $(".ball li.numbers b.selected_red");
				var I = new Array();
				$.each(R, function(j, k) {
					I.push($(R[j]).text())
				});
				ballBox.numbers.push([ballBox.cur.perch + I.join(","), I.join(",")]);
				break
			}
			break
		}
		ballBox.calNumberCount();
		this.cleanUp();
		ballBox.checkDataType();
		$("#betstatics b:eq(0)").text(ballBox.count);
		$("#betstatics b:eq(1)").text(ballBox.count * ballBox.cur.radix);
		if (ballBox.count > 0 && ballBox.numbers.length > 0) {
			$("#addToListBtn").attr("class", "addbtn")
		} else {
			$("#addToListBtn").attr("class", "addbtn disabled")
		}
	},
	appendBet: function(b) {
		var a = $(b).attr("checked");
		ballBox.cur.radix = a ? 3 : 2;
		ballBox.cur.isAppend = a;
		ballBox.calNumber();
		this.changeBetBox()
	},
	changeBetBox: function() {
		$("#BetNumberListContanior li").each(function() {
			var a = $(this).attr("count");
			var b = parseInt(a) * ballBox.cur.radix;
			$(this).attr("money", b);
			$(this).find(".i4").html(b + "元")
		});
		bet.countSum()
	},
	calNumberCount: function() {
		ballBox.count = 0;
		$(ballBox.numbers).each(function(b, c) {
			var a = codeInfo(gameCode, ballBox.cur.type, c[0]);
			c.length < 3 ? c.push(a.count) : c[2] = a.count;
			ballBox.count += a.count
		})
	},
	cleanUp: function() {
		var a = new Array();
		$(ballBox.numbers).each(function(b, c) {
			if (null != c[0] && null != c[1] && c[2] > 0) {
				a.push(c)
			}
		});
		ballBox.numbers = a
	},
	checkDataType: function() {
		$(ballBox.numbers).each(function(a, b) {
			if (b.length >= 3) {
				b[3] = ballBox.cur.way == 2 ? "DT" : ""
			}
		})
	},
	betAdd: function() {
		if (ballBox.count < 1 || ballBox.numbers.length < 1) {
			alertTip("请您先选择一注号码！", "err");
			return
		}
		var a;
		var c;
		if (gameCode == "DLT" && ballBox.cur.way == 2) {
			a = $(".danma li.numbers b.selected_red");
			c = $(".tuoma li.numbers b.selected_red");
			if (a.length + c.length < 6) {
				alertTip("前区胆码加前区拖码不能少于6个！", "err");
				return
			}
		}
		if (gameCode == "SSQ" && ballBox.cur.way == 2) {
			a = $(".danma li.numbers b.selected_red");
			c = $(".tuoma li.numbers b.selected_red");
			if (a.length + c.length < 7) {
				alertTip("前区胆码加前区拖码不能少于7个！", "err");
				return
			}
		}
		if (gameCode == "GDKLSF" && ballBox.cur.way == 2) {
			if (ballBox.count < 2) {
				alertTip("胆拖至少选择2注！", "err");
				return
			}
		}
		var b = 200;
		if (gameCode == "DLT" || gameCode == "SSQ") {
			b = 1000
		}
		if (ballBox.numbers.length + $("#BetNumberListContanior li .blue").length > b) {
			alertTip("投注项不能超过" + b + "，请减少您的投注号码！", "err");
			return
		}
		if (gameCode == "DLT" || gameCode == "SSQ") {
			if (ballBox.count * ballBox.cur.radix > 20000) {
				alertTip("您好，单个方案最大金额为￥20000.00元！", "err");
				return
			}
		}
		if (!$("#BetNumberListContanior li").attr("number")) {
			$("#BetNumberListContanior li").remove()
		}
		$.each(ballBox.numbers, function(e, g) {
			var l = ballBox.cur.type;
			if (gameCode == "JSKS" && ballBox.cur.type == "HZ") {
				if (g[1] == "111" || g[1] == "666") {
					l = "3THDX"
				}
			} else {
				if (gameCode == "SSQ" || gameCode == "DLT") {
					switch (ballBox.cur.type) {
					case "DS":
						var k = g[0].split("|")[0].split(",");
						var d = g[0].split("|")[1].split(",");
						if (k.length > ballBox.cur.min || d.length > ballBox.cur.bluemin) {
							l = "FS"
						} else {
							l = "DS"
						}
						break;
					case "12X2DS":
						if (g[0].split(",").length > ballBox.cur.min) {
							l = "12X2FS"
						} else {
							l = "12X2DS"
						}
						break
					}
				} else {
					if (gameCode == "CQSSC") {
						if (l == "2XBAODAN") {
							var f = codeInfo(gameCode, ballBox.cur.type, g[1]);
							g[2] = f.count
						}
					} else {
						if (gameCode == "SDKLPK3") {
							if (g[0] == "THX" || g[0] == "SZX" || g[0] == "THSX" || g[0] == "DZX" || g[0] == "BZ" || g[0] == "BZX") {
								l = g[0]
							} else {
								if (SDKLPK3.transTHXCode(g[0])) {
									l = "THS"
								} else {
									if (SDKLPK3.transBZCode(g[0])) {
										l = "BZ"
									}
								}
							}
						}
					}
				}
			}
			var h = typeInfo(gameCode, l);
			if (gameCode == "PL3" && ballBox.cur.type == "HZ") {
				if (g[0] == 0) {
					g[0] = "0,0,0";
					g[1] = "0,0,0";
					h.type = "FS";
					h.typeName = "直选"
				} else {
					if (g[0] == 27) {
						g[0] = "9,9,9";
						g[1] = "9,9,9";
						h.type = "FS";
						h.typeName = "直选"
					}
				}
			}
			var j = "<li bonus='" + h.bonus + "' number='" + g[0] + "'" + (g.length > 3 ? "data-t='" + g[3] + "'" : "") + " gameType='" + h.type + "' count='" + g[2] + "' money='" + (g[2] * ballBox.cur.radix) + "'><span class='i1'><label class='ListIndex'></label>." + h.typeName + "</span><span class='i2'>" + g[1] + "</span><span class='i3'> " + g[2] + "注</span><span class='i4'>" + (g[2] * ballBox.cur.radix) + "元</span><a class='blue' href='javascript:void 0' title='删除本行' onclick='bet.delOne(this);'>删除</a></li>";
			$("#BetNumberListContanior").prepend(j)
		});
		bet.opBetBox();
		$(".sdklpk3-ball span,.sdklpk3-ball div").removeClass("selected_red");
		ballBox.rand.cleanBall();
		$(".numbers b").removeClass("selected_red").removeClass("selected_blue")
	},
	extBetAdd: function() {
		if (location.request("extcodelist")) {
			if (!$("#BetNumberListContanior li").attr("number")) {
				$("#BetNumberListContanior li").remove()
			}
			var codeList = eval(location.request("extcodelist"));
			var numberinfo = "";
			$.each(codeList, function(k, v) {
				var vType = typeInfo(gameCode, v.type);
				if (vType.typeName != null) {
					var inf = codeInfo(gameCode, vType.type, v.number);
					numberinfo += "<li bonus='" + vType.bonus + "' number='" + inf.anteCode + "' gameType='" + inf.type + "' count='" + inf.count + "' money='" + inf.money + "'><span class='i1'><label class='ListIndex'></label>." + vType.typeName + "</span><span class='i2'>" + inf.anteCode.substring(vType.perch.length, inf.anteCode.length + 1) + "</span><span class='i3'> " + inf.count + "注</span><span class='i4'>" + inf.money + "元</span><a class='blue' href='javascript:void 0' title='删除本行' onclick='bet.delOne(this);'>删除</a></li>"
				}
			});
			$("#BetNumberListContanior").prepend(numberinfo);
			bet.opBetBox();
			ballBox.rand.cleanBall()
		}
	},
	toolClick: function() {
		$(".ballsfilter a").click(function() {
			var a = $(this).parents(".help_div").prev(".ball").find("b");
			var b = $(this).attr("val");
			var f = new Array();
			switch (b) {
			case "all":
				f = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24];
				break;
			case "big":
				for (var c = parseInt(a.length / 2, 10); c < a.length; c++) {
					f.push(parseInt($(a[c]).text(), 10))
				}
				break;
			case "small":
				for (var d = 0; d < parseInt(a.length / 2, 10); d++) {
					f.push(parseInt($(a[d]).text(), 10))
				}
				break;
			case "0":
				f = [0, 3, 6, 9, 12, 15, 18, 21];
				break;
			case "1":
				f = [1, 4, 7, 10, 13, 16, 19, 22];
				break;
			case "2":
				f = [2, 5, 8, 11, 14, 17, 20, 23];
				break;
			case "odd":
				f = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23];
				break;
			case "even":
				f = [0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22];
				break;
			case "anti":
				$.each(a, function(h, g) {
					if ($(g).attr("class") == null || $(g).attr("class") == "" || $(g).attr("class") != "selected_red") {
						f.push(parseInt($(a[h]).text()))
					}
				});
				break;
			case "nature":
				f = [1, 2, 3, 5, 7, 11, 13, 17, 19, 23];
				break;
			case "co":
				f = [0, 4, 6, 8, 9, 10, 12, 14, 15, 16, 18, 20, 21, 22];
				break;
			case "clear":
			default:
				break
			}
			for (var e = 0; e < a.length; e++) {
				if ($.inArray(parseInt($(a[e]).text(), 10), f) >= 0) {
					if (ballBox.cur.max > 0 && $(".ball li.numbers b.selected_red").length >= ballBox.cur.max) {
						alertTip("[" + gameName + " " + ballBox.cur.typeName + "]最大选球个数不能超过" + ballBox.cur.max + "个！", "err");
						return
					}
					if (ballBox.cur.bluemax && $(".ball li.numbers b.selected_blue").length >= ballBox.cur.bluemax) {
						alertTip("[" + gameName + " " + ballBox.cur.typeName + "]蓝球最大选球个数不能超过" + ballBox.cur.bluemax + "个！", "err");
						return
					}
					$(a[e]).addClass("selected_red")
				} else {
					$(a[e]).removeAttr("class")
				}
			}
			ballBox.calNumber()
		})
	},
	selectRowNew: function(e, a) {
		var d = $(e).parents(".assi").prev(".sdklpk3-ball").find("span");
		d.removeClass("selected_red");
		var c = a.length;
		for (var b = 0; b < c; b++) {
			$(d[a[b]]).addClass("selected_red")
		}
		ballBox.calNumber()
	},
	split3XSum: function(f, b) {
		var a = parseInt(f, 10);
		for (var c = 0; c <= 9; c++) {
			if (c > a) {
				break
			}
			for (var d = 0; d <= 9; d++) {
				if (d > a) {
					break
				}
				for (var e = 0; e <= 9; e++) {
					if (e > a) {
						break
					}
					if ((c + d + e) == a) {
						b(c, d, e)
					}
				}
			}
		}
	},
	splitZX6Sum: function(f, a) {
		var b = parseInt(f, 10);
		for (var c = 0; c <= 9; c++) {
			if (c > b) {
				break
			}
			for (var d = c; d <= 9; d++) {
				if (d > b) {
					break
				}
				for (var e = d; e <= 9; e++) {
					if (e > b) {
						break
					}
					if (b == (c + d + e) && c != d && c != e && c != e && d != e) {
						a(c, d, e)
					}
				}
			}
		}
	},
	isZU3: function(a, b, c) {
		if (a == b && a != c || a == c && a != b || b == c && a != b) {
			return true
		}
		return false
	},
	foreachNumbers: function(a, e, d, b) {
		for (var c = 0; c < e[d].length; c++) {
			a[d] = e[d][c];
			if (d == 0) {
				b(a)
			} else {
				foreachNumbers(a, e, d - 1, b)
			}
		}
	},
	foreachTwoArray: function(d, b) {
		var a = [d.length];
		var c = d.length;
		foreachNumbers(a, d, --c, b)
	},
	ZU3_Key: function(b, c, d) {
		var a = new Array();
		a.push(b);
		a.push(c);
		a.push(d);
		a.sort();
		$.unique(a);
		return a.toString()
	},
	convertNumberDisplay: function(a) {
		if (ballBox.cur.type == "DXDS") {
			var b = new Array();
			$(a).each(function(c, d) {
				switch (d) {
				case "1":
					b.push("小");
					break;
				case "2":
					b.push("大");
					break;
				case "4":
					b.push("双");
					break;
				case "5":
					b.push("单");
					break;
				default:
					b.push(d)
				}
			});
			return b
		} else {
			return a
		}
	},
	jxBtnFocus: function(a) {
		a.value = a.value.replace("注", "")
	},
	jxBtnBlur: function(a) {
		var b = a.value;
		if (b == 0) {
			b = 10
		}
		a.value = b + "注"
	},
	init: function() {
		this.initType()
	}
};
var bet = {
	stopList: ["JXSSC"],
	sumcount: 0,
	amount: 0,
	stopPlay: function() {
		if (bet.stopList._indexOf(gameCode) >= 0) {
			if (gameCode == "CQSSC") {
				var a = new Date();
				if (a.getHours() > 22 || a.getHours() < 2) {
					playStopBox2.Show()
				}
			} else {
				playStopBox.Show()
			}
		}
	},
	delAll: function() {
		$("#BetNumberListContanior li").remove();
		this.opBetBox()
	},
	delOne: function(a) {
		$(a).parent().remove();
		this.opBetBox()
	},
	opBetBox: function() {
		if ($("#BetNumberListContanior li").length < 1) {
			$("#BetNumberListContanior").append("<li>暂无投注项 [最多200项]</li>")
		}
		var b = $("#BetNumberListContanior li");
		for (var a = 0; a < b.length; a++) {
			$(b[a]).find(".ListIndex").text(b.length - a)
		}
		this.countSum()
	},
	countSum: function() {
		bet.sumcount = 0;
		$("#BetNumberListContanior li").each(function(a, b) {
			if ($(b).attr("count")) {
				bet.sumcount = bet.sumcount + parseInt($(b).attr("count"), 10)
			}
		});
		bet.amount = parseInt($("#multipleInfo input[type=text]").val(), 10);
		$("#totalItems").html(bet.sumcount);
		$("#totalSum").html(bet.sumcount * ballBox.cur.radix * bet.amount);
		if (chase.isChase) {
			if (bet.sumcount < 1) {
				$(":radio[name='chaseType']:eq(1)").attr("disabled", "disabled");
				$(":radio[name='chaseType']:eq(0)").attr("checked", true)
			} else {
				if (gameCode == "SSQ" || gameCode == "DLT") {
					$(":radio[name='chaseType']:eq(1)").attr("disabled", "disabled")
				} else {
					$(":radio[name='chaseType']:eq(1)").removeAttr("disabled")
				}
			}
			$(":radio[name='chaseType']:checked").attr("checked", true).change()
		}
		if (hemai.isHemai) {
			hemai.reset()
		}
	},
	amountChange: function() {
		$("#multipleInfo input[type=button]:eq(0)").click(function() {
			var a = parseInt($("#multipleInfo input[type=text]").val(), 10);
			if (a > 1) {
				$("#multipleInfo input[type=text]").val(a - 1);
				bet.countSum()
			}
		});
		$("#multipleInfo input[type=button]:eq(1)").click(function() {
			var a = parseInt($("#multipleInfo input[type=text]").val(), 10);
			if (a < ballBox.cur.maxAmount) {
				$("#multipleInfo input[type=text]").val(a + 1);
				bet.countSum()
			} else {
				alertTip("[" + gameName + " " + ballBox.cur.typeName + "]最大额定倍数 " + ballBox.cur.maxAmount + " 倍！", "err");
				return
			}
		});
		$("#multipleInfo input[type=text]").change(function() {
			$("#multipleInfo input[type=text]").val($("#multipleInfo input[type=text]").val().toNumber(1, ballBox.cur.maxAmount));
			bet.countSum()
		})
	},
	buyClick: function(e) {
		if ($(e).hasClass("dialogBtn_disabled")) {
			return false
		}
		var a = $("input[name='btype']:checked").val();
		if (a == "buyChase") {
			var d = $("#ChaseIssuseCount").val();
			if (d <= 1) {
				alertTip("追号必须选择2期以上！", "err");
				return false
			}
		}
		if (bet.stopList._indexOf(gameCode) >= 0) {
			if (gameCode == "JSKS") {
				playStopBox1.Show()
			} else {
				playStopBox.Show()
			}
			return false
		}
		var b = $("#agreement").attr("checked");
		if (!b) {
			alertTip('必须同意《<a href="/help/agreenment" target="_blank">用户合买代购协议</a>》后才能进行投注！', "err");
			return false
		}
		if ($("#agreement2")) {
			var c = $("#agreement2").attr("checked");
			if (!c) {
				alertTip("必须同意《" + gameName + "投注风险彩知》后才能进行投注！", "err");
				return false
			}
		}
		if (betTime.time <= 0) {
			alertTip("[" + gameName + "]" + betTime.period + "期投注已截止。", "err");
			return false
		}
		if (this.sumcount <= 0) {
			alertTip("请选择投注号码。", "err");
			return false
		}
		if (bet.sumcount * 2 * bet.amount > 1000000) {
			alertTip("投注金额不能超过100万元。", "err");
			return false
		}
		user.isLogin(function(f) {
			if (!f) {
				user.LoginCallBack = function() {
					bet.showBetConfirm()
				};
				loginDialog.Show();
				$("#userName").focus()
			} else {
				bet.showBetConfirm()
			}
		});
		return true
	},
	showBetConfirm: function() {
		$("#bet_confirm_content").load("http://127.0.0.1:8080/lottery/szcpop?g=" + gameCode + "&ishm=" + hemai.isHemai + "&ischase=" + chase.isChase + "&r=" + Math.random(), function(g, i, k) {
			if (i == "success") {
				$("#n_zhu").html(bet.sumcount);
				$("#n_yuan").html(bet.sumcount * 2 * bet.amount);
				var b = 1;
				var j = bet.sumcount * 2 * bet.amount;
				var h = betTime.period;
				if (chase.isChase && $("#IssuseListContanior li.selected").length >= 1) {
					h = $("#IssuseListContanior li.selected:eq(0)").attr("issuse");
					b = $("#IssuseListContanior li.selected").length;
					j = $("#IssuseListContanior li.selected").last().attr("addcost")
				}
				$("#n_issue").html(h);
				$("#n_qshu").html(b);
				$("#c_zje").html(j);
				if ($("#rgspn").length == 1) {
					var d = $("#maxbanlance");
					var f = d.attr("data-ratio");
					var a = checkFixed(j * f);
					d.html(a)
				}
				var c = [];
				var e = $("#BetNumberListContanior li");
				$.each(e, function(n, o) {
					var m = $(this).find(".i1").html();
					var q = $(this).find(".i2").html();
					var l = $(this).attr("count");
					var p = $(this).attr("money");
					var r = "<li><span class='i1'>[" + m + "]</span><span class='antenumber'>" + q + "</span><span class='i2'>" + l + "注," + p + "元</span></li>";
					c[c.length] = r
				});
				$("#bet_confirm_content ul:eq(0)").html(c.join(""));
				document.getElementById("btn_confirm_yes").onclick = function() {
					if (user.info.isNeedBetPwd) {
						var l = $("#bet_balancepwd");
						if (l.val() == "" || l.val().length == 0) {
							alertTip("您设置了资金密码，请输入资金密码", "ok");
							return
						}
					}
					bet.submit()
				};
				document.getElementById("btn_confirm_no").onclick = function() {
					confirmLightBox.Close();
					document.getElementById("bet_confirm_content").innerHTML = ""
				};
				confirmLightBox.Show()
			}
		})
	},
	submit: function() {
		$("#btn_confirm_yes").attr("disabled", "disabled").addClass("focusBtn");
		progress("正在出票...");
		var i = 0;
		var f = new Array();
		$("#BetNumberListContanior li").each(function(m, q) {
			var p = $(q).attr("gameType");
			var l = $(q).attr("data-t");
			var n = "";
			if (gameCode == "JSKS" && p == "3THTX") {
				n = "XXX"
			} else {
				if (gameCode == "JSKS" && p == "3LHTX") {
					n = "XYZ"
				} else {
					if (gameCode == "JSKS" && p == "2THFX") {
						var o = new RegExp("\\*", "g");
						n = $(q).attr("number").replace(o, "X")
					} else {
						if ((gameCode == "JSKS" && p == "2THDX") || (gameCode == "JSKS" && p == "3BTHDT") || (gameCode == "JSKS" && p == "2BTHDT")) {
							o = new RegExp("\\#", "g");
							n = $(q).attr("number").replace(o, "|")
						} else {
							n = $(q).attr("number")
						}
					}
				}
			}
			f.push(p + "." + n + "." + (l == "DT" ? "true" : "false"))
		});
		var e = new Array();
		var d = false;
		if (chase.isChase && $("#IssuseListContanior li.selected").length >= 1) {
			d = $("#check_chasestop_bonus").attr("checked");
			i = $("#IssuseListContanior li.selected").last().attr("addcost");
			$($("#IssuseListContanior li.selected")).each(function(l, m) {
				e.push($(m).attr("issuse") + "|" + $(m).attr("amount") + "|" + $(m).attr("currentcost"))
			})
		} else {
			i = bet.sumcount * ballBox.cur.radix * bet.amount;
			e.push(betTime.period + "|" + bet.amount + "|" + i)
		}
		var g = parseInt($("input[name=secrecy_dg]:checked").val(), 10);
		var k = "http://127.0.0.1:8080/lottery/order";
		var j = {
			GameCode: gameCode,
			CurrentIssuse: betTime.period,
			TotalMoney: i,
			Number: f.join("#"),
			IssuseNumber: e.join("#"),
			IsStopAfterBonus: d,
			sercurity: g,
			rbmoney: $("#kybanlance").val()
		};
		j.IsAppend = ballBox.cur.isAppend;
		if (hemai.isHemai) {
			j.rbmoney = 0;
			var c = {
				isHemai: true,
				totalCount: document.getElementById("splitCount").value,
				price: document.getElementById("splitCountPercent").innerHTML,
				subscription: document.getElementById("masterBuy").value,
				guarantees: document.getElementById("baodi").value,
				bonusdeduct: document.getElementById("Deduct").value,
				joinpwd: (document.getElementById("Password") ? document.getElementById("Password").value : ""),
				amount: bet.amount
			};
			var h = document.getElementById("project_title");
			if (h.value == "") {
				c.title = h.getAttribute("title")
			} else {
				if (h.value.length > 20) {
					c.title = h.value.substring(0, 20)
				} else {
					c.title = h.value
				}
			}
			var b = document.getElementById("project_description");
			if (b.value == "") {
				c.description = h.getAttribute("title")
			} else {
				if (b.value.length > 150) {
					c.description = b.value.substring(0, 150)
				} else {
					c.description = b.value
				}
			}
			$.extend(j, c);
			j.sercurity = parseInt($("input[name=Secret]:checked").val(), 10)
		}
		if (chase.isChase) {
			j.sercurity = parseInt($("input[name=mychase]:checked").val(), 10)
		}
		j.kind = save.isSave ? 0 : 2;
		if (document.getElementById("bet_balancepwd")) {
			j.balancepwd = document.getElementById("bet_balancepwd").value
		}
		function a(m) {
			progressLightBox.Close();
			$("#btn_confirm_yes").removeAttr("disabled").removeClass("focusBtn");
			if (m.IsSuccess) {
				if (save.isSave) {
					alertTip("<b class='big yellow'>您的方案已保存！</b><br/>方案编号：<a class='blue under' href='/user/scheme/" + m.ReturnValue.split("|")[0] + "' target='_black'>" + m.ReturnValue.split("|")[0] + "</a> &nbsp;方案金额：<em class='red bold'>" + m.ReturnValue.split("|")[1] + "</em>元<br/><em class='gray'>提示：您可以在会员中心查看已保存订单。</em>", "ok")
				} else {
					alertTip("<b class='big yellow'>" + m.Message + "，祝您好运！</b><br/>方案编号：<a class='blue under' href='/user/scheme/" + m.ReturnValue.split("|")[0] + "' target='_black'>" + m.ReturnValue.split("|")[0] + "</a> &nbsp;方案金额：<em class='red bold'>" + m.ReturnValue.split("|")[1] + "</em>元<br/><br/><em class='gray'>提示：方案将分配到具有销售资质的投注站出票。</em>", "ok")
				}
				$("#multipleInfo input[type=text]").val(1);
				$("#ChaseIssuseCount").val(1);
				confirmLightBox.Close();
				document.getElementById("bet_confirm_content").innerHTML = "";
				user.refresh();
				bet.delAll();
				betHistory.loadData()
			} else {
				if (m.Message == "Repeat") {
					confirmLightBox.Close();
					var l = "<div style='line-height:60px;text-align:center;font-size:14px'>检测到投注内容重复，您确定要再次购买吗？</div>";
					confirmTip(l, function() {
						j.IsRepeat = true;
						$.post(k, j, function(n) {
							a(n)
						})
					}, function() {})
				} else {
					if (m.Message.indexOf("未实名认证") >= 0) {
						alertTip('未经过实名认证，不允许购买彩票。<br />请移步去个人资料完成<a href="/member/safe" style="color:Red">实名认证</a>', "err")
					} else {
						alertTip(m.Message, "err")
					}
				}
			}
		}
		$.post(k, j, function(l) {
			a(l)
		})
	},
	init: function() {
		$("#BetNumberListContanior li").live("click", function() {
			if ($(this).attr("class")) {
				$(this).removeAttr("class")
			} else {
				$(this).attr("class", "selectedItem").siblings().removeAttr("class")
			}
		});
		this.amountChange();
		this.countSum();
		this.stopPlay()
	}
};
var normal = {
	normalClick: function(a) {
		if ($(a).is(":checked")) {
			ele.buyDg.show();
			this.reset();
			ele.buyHm.hide();
			ele.buyChase.hide();
			chase.isChase = false;
			hemai.isHemai = false
		}
	},
	reset: function() {
		$("input[name=secrecy_dg][value=1]").attr("checked", "checked")
	}
};

function isLeapYear(a) {
	if (((a % 4) == 0) && ((a % 100) != 0) || ((a % 400) == 0)) {
		return true
	} else {
		return false
	}
}
var chase = {
	isChase: false,
	issuse: {
		list: new Array(),
		max: function() {
			var a = new Date();
			var b = isLeapYear(a.getFullYear);
			switch (gameCode) {
			case "CQSSC":
				return 120;
			case "JXSSC":
				return 84;
			case "JX11X5":
				return 84;
			case "SD11X5":
				return 78;
			case "GD11X5":
				return 84;
			case "SDQYH":
				return 40;
			case "GDKLSF":
				return 84;
			case "GXKLSF":
				return 50;
			case "FC3D":
			case "PL3":
				if (b) {
					return 359
				}
				return 358;
			case "SSQ":
			case "DLT":
				if (b) {
					return 154
				}
				return 153;
			case "JSKS":
				return 82;
			case "SDKLPK3":
				return 79;
			default:
				return 0
			}
		},
		update: function() {
			var k = "";
			var j = betTime.period.split("-");
			var c = j[0];
			var d = parseInt(j[1], 10);
			this.list = new Array();
			var g = new Date("2017/01/27");
			var f = new Date("2017/02/02");
			for (var b = 0; b < 201; b++) {
				if (k == "") {
					k = betTime.period
				} else {
					d++;
					if (d > this.max()) {
						if (gameCode == "FC3D" || gameCode == "PL3" || gameCode == "GXKLSF" || gameCode == "SSQ" || gameCode == "DLT") {
							c = parseInt(c, 10) + 1;
							d = 1
						} else {
							var e = new Date(c.substr(0, 4) + "/" + c.substr(4, 2) + "/" + c.substr(6, 2));
							e.setDate(e.getDate() + 1);
							while (e >= g && e <= f) {
								e.setDate(e.getDate() + 1)
							}
							var a = e.getDate();
							var h = e.getMonth() + 1;
							c = e.getFullYear().toString() + ((h < 10) ? ("0" + h) : h).toString() + ((a < 10) ? ("0" + a) : a).toString();
							d = 1
						}
					}
					switch (d.toString().length) {
					case 1:
						k = c + "-" + (this.max() > 99 ? "00" : "0") + d;
						break;
					case 2:
						k = c + "-" + (this.max() > 99 ? "0" : "") + d;
						break;
					default:
						k = c + "-" + d;
						break
					}
				}
				this.list.push(k)
			}
		},
		get: function(d, a) {
			var c = $.inArray(d, this.list);
			var e = new Array();
			for (var b = 0; b < a; b++) {
				e.push(this.list[c + b])
			}
			return e
		}
	},
	updateChaseIssuse: function() {
		var b = $("#ChaseIssuseList option:selected").val();
		if ($(":radio[name='chaseType']:checked").val() == "smart") {
			b = $("#MultipleChaseIssuseList option:selected").val()
		}
		var a = this.issuse.get(b, $("#IssuseListContanior li").length);
		$($("#IssuseListContanior li")).each(function(c, d) {
			$(d).attr("issuse", a[c]);
			$(d).find("span:eq(1)").text(a[c]);
			if (a[c] == betTime.period) {
				$(d).find("span:eq(1)").addClass("red")
			} else {
				$(d).find("span:eq(1)").removeClass("red")
			}
		})
	},
	oPeriod: function() {
		this.issuse.update();
		$("#ChaseIssuseList,#MultipleChaseIssuseList").empty();
		$(this.issuse.get(betTime.period, 50)).each(function(a, b) {
			if (b == betTime.period) {
				$("#ChaseIssuseList,#MultipleChaseIssuseList").append("<option value='" + b + "'>" + b + "期[当前期]</option>")
			} else {
				$("#ChaseIssuseList,#MultipleChaseIssuseList").append("<option value='" + b + "'>" + b + "期</option>")
			}
		});
		this.updateChaseIssuse()
	},
	reset: function() {
		$("#IssuseListContanior li").remove();
		$("#ChaseIssuseCount").val($("#ChaseIssuseCount").val().toNumber(1, 100));
		var c = $("#ChaseIssuseCount").val();
		var b = "";
		for (var a = 0; a < c; a++) {
			b += "<li class='selected' issuse='' amount='" + bet.amount + "' currentcost='0' addcost='0' currentbonus='0' totalprofit='0'><span class='i1'><input type='checkbox' checked='checked' class='check' /></span><span class='i2'></span><span class='i3'><input type='text' value='" + bet.amount + "' class='bs' />倍</span> <span class='i4'>" + (bet.sumcount * 2 * bet.amount) + "</span><span class='i5'>--</span> <span class='i6'>--</span> <span class='i7'>--</span></li>"
		}
		$("#IssuseListContanior").append(b);
		this.updateChaseIssuse();
		this.update()
	},
	update: function() {
		var a = 0;
		$($("#IssuseListContanior li")).each(function(f, j) {
			if ($(j).find("input[type='checkbox']").attr("checked") == true) {
				$(j).addClass("selected");
				$(j).find("span:eq(1)").nextAll().show();
				var b = $(j).find(".bs").val();
				var e = bet.sumcount * b * ballBox.cur.radix;
				a = a + e;
				var d = 0;
				var i = 0;
				var c = 0;
				var g = $("#BetNumberListContanior li");
				var h = new Array();
				$.each(g, function(k, m) {
					if ($(m).attr("bonus")) {
						var l = $(m).attr("bonus");
						h.push(l)
					}
				});
				c = h.length > 0 ? h.min() : 0;
				d = c * b;
				i = (c * b) - a;
				$(j).attr("amount", b);
				$(j).attr("currentcost", e);
				$(j).attr("addcost", a);
				$(j).attr("currentbonus", d);
				$(j).attr("totalprofit", i);
				$(j).find("span:eq(3)").text(e + " 元");
				$(j).find("span:eq(4)").text(a + " 元");
				if (h.length < 1 || c == 0 || e == 0) {
					$(j).find("span:eq(5)").text("--");
					$(j).find("span:eq(6)").text("--");
					$(j).find("span:eq(6)").removeClass("green").removeClass("red")
				} else {
					$(j).find("span:eq(5)").text(d + " 元");
					$(j).find("span:eq(6)").text(i + " 元");
					if (i > 0) {
						$(j).find("span:eq(6)").removeClass("green").removeClass("red");
						$(j).find("span:eq(6)").addClass("green")
					} else {
						if (i < 0) {
							$(j).find("span:eq(6)").removeClass("green").removeClass("red");
							$(j).find("span:eq(6)").addClass("red")
						}
					}
				}
			} else {
				$(j).removeClass("selected");
				$(j).find("span:eq(1)").nextAll().hide()
			}
		});
		$("#ChaseIssuseCount").val($("#IssuseListContanior li.selected").length);
		$("#chaseListInfo b:eq(0)").text(bet.sumcount);
		$("#chaseListInfo b:eq(1)").text($("#IssuseListContanior li.selected").length);
		$("#chaseListInfo b:eq(2)").text(a.toMoney())
	},
	calMultiple: function() {
		$("#IssuseListContanior li").remove();
		var q = $("#MultipleChaseIssuseList option:selected").val();
		var h = parseInt($("#multibet_chaseissusecount").val(), 10);
		var a = parseInt($("#multibet_bs").val(), 10);
		var b = 0;
		var r = new Array();
		$.each($("#BetNumberListContanior li"), function(t, v) {
			if ($(v).attr("bonus")) {
				var u = $(v).attr("bonus");
				r.push(u)
			}
		});
		b = r.length > 0 ? r.min() : 0;
		if (r.length < 1 || b == 0) {
			alertTip("请至少选择一注号码后再使用Smart追号！", "err");
			$("#ChaseIssuseCount").val(1).change()
		} else {
			var d = bet.sumcount * ballBox.cur.radix;
			var s = 0;
			var c = $(":radio[name='multicondition']:checked").val();
			var l = 0,
				n = 0,
				m = 0,
				o = 0;
			switch (c) {
			case "1":
				l = parseInt($("#multibet_allmargins").val(), 10);
				break;
			case "2":
				n = parseInt($("#multibet_margins_beforeissuse").val(), 10);
				m = parseInt($("#multibet_margins_before").val(), 10);
				o = $("#multibet_margins_behind").val();
				break;
			case "3":
				l = parseInt($("#multibet_allprofit").val(), 10);
				break;
			case "4":
				n = parseInt($("#multibet_profit_beforeissuse").val(), 10);
				m = parseInt($("#multibet_profit_before").val(), 10);
				o = parseInt($("#multibet_profit_behind").val(), 10);
				break
			}
			$("#Container_Issuse_MultiBetPlan li").remove();
			var j = "";
			var f = 0,
				s = 0,
				e = 0,
				p = 0,
				k = 0;
			for (var g = 0; g < h; g++) {
				if (a >= ballBox.cur.maxAmount) {
					break
				}
				if (g == 0) {
					f = a * d;
					s += f;
					e = b * a;
					p = e - s;
					k = parseInt((p / s * 100), 10)
				} else {
					while (true) {
						f = a * d;
						s += f;
						e = b * a;
						p = parseInt(e - s, 10);
						k = parseInt((p / s * 100), 10);
						if (c == "1") {
							if (k >= l) {
								break
							} else {
								s -= f
							}
						} else {
							if (c == "2") {
								if ((g + 1) <= n && k >= m) {
									break
								} else {
									if ((g + 1) > n && k >= o) {
										break
									} else {
										s -= f
									}
								}
							} else {
								if (c == "3") {
									if (p >= l) {
										break
									} else {
										s -= f
									}
								} else {
									if (c == "4") {
										if ((g + 1) <= n && p >= m) {
											break
										} else {
											if ((g + 1) > n && p >= o) {
												break
											} else {
												s -= f
											}
										}
									}
								}
							}
						}
						a += 1;
						if (a >= ballBox.cur.maxAmount) {
							break
						}
					}
				}
				j += "<li class='selected' issuse='' amount='" + a + "' currentcost='" + f + "' addcost='" + s + "' currentbonus='" + e + "' totalprofit='" + p + "' margins='" + k + "%'><span class='i1'><input type='checkbox' checked='checked' class='check' /></span><span class='i2'></span><span class='i3'><input type='text' value='" + a + "' class='bs' />倍</span> <span class='i4'>" + f + "</span><span class='i5'>" + s + "</span> <span class='i6'>" + e + "</span> <span class='i7'>" + p + "</span></li>"
			}
			if (a >= ballBox.cur.maxAmount) {
				$("#multi_err").html("根据当前设置计算，从第 <b>" + (g + 1) + "</b> 期开始，投注倍数将超过 <b>" + ballBox.cur.maxAmount + "</b> 倍，建议您从以下方面调整：<br/>1.降低预期利润率(荐) 2.降低追号期数 3.降低初始倍数 4.降低投注注数 5.降低最大倍投！").show(200)
			} else {
				$("#multi_err").hide(200).html("")
			}
			$("#IssuseListContanior").append(j);
			this.updateChaseIssuse();
			this.update()
		}
	},
	multipleInput: function(a) {
		if (a) {
			$(":radio[name='multicondition']").live("click", function() {
				$(":radio").parent().find(":text").attr("disabled", "disabled");
				$(this).nextAll(":text").removeAttr("disabled");
				chase.calMultiple()
			});
			$("#multibet_bs").live("change", function() {
				$(this).val($(this).val().toNumber(1, ballBox.cur.maxAmount));
				chase.calMultiple()
			});
			$("#chaseCondi_smart li input[type=text]").live("change", function() {
				$(this).val($(this).val().toNumber(1));
				chase.calMultiple()
			});
			$("#multibet_margins_beforeissuse,#multibet_profit_beforeissuse").live("change", function() {
				var b = $("#multibet_chaseissusecount").val();
				$(this).val($(this).val().toNumber(1, b));
				chase.calMultiple()
			});
			$("#multibet_chaseissusecount").live("change", function() {
				$(this).val($(this).val().toNumber(1, 100));
				chase.calMultiple()
			})
		} else {
			$(":radio[name='multicondition']").die("click");
			$("#multibet_bs").die("change");
			$("#chaseCondi_smart li input[type=text]").die("change");
			$("#multibet_margins_beforeissuse,#multibet_profit_beforeissuse").die("change");
			$("#multibet_chaseissusecount").die("change")
		}
	},
	init: function(a) {
		if ($(a).is(":checked")) {
			this.isChase = true;
			ele.buyChase.show();
			$("#chaseCondi_normal").show();
			ele.buyDg.hide();
			ele.buyHm.hide();
			hemai.isHemai = false
		} else {
			this.isChase = false
		}
		if (gameCode == "SSQ" || gameCode == "DLT") {
			$(":radio[name='chaseType'][value=smart]").attr("disabled", "disabled")
		} else {
			$(":radio[name='chaseType'][value=smart]").removeAttr("disabled")
		}
		if (this.isChase) {
			this.oPeriod();
			$(".play-step:eq(1)").show();
			this.reset();
			$("#QuickIssuse b").live("click", function() {
				var c = $(this).attr("val");
				if (c == "today") {
					$("#ChaseIssuseList option:eq(0)").attr("selected", "selected");
					var b = parseInt(betTime.period.split("-")[1], 10);
					if (gameCode == "SSQ" || gameCode == "DLT" || gameCode == "FC3D" || gameCode == "PL3") {
						$("#ChaseIssuseCount").val(1)
					} else {
						$("#ChaseIssuseCount").val(chase.issuse.max() - b + 1)
					}
				} else {
					$("#ChaseIssuseCount").val(c)
				}
				$("#ChaseIssuseCount").change()
			});
			$("#IssuseListContanior li input[type='checkbox']").live("change", function() {
				chase.update()
			});
			$("#check_allissuse").live("change", function() {
				$("#IssuseListContanior li input[type='checkbox']").attr("checked", $("#check_allissuse").attr("checked"));
				chase.update()
			});
			$("#IssuseListContanior li .bs").live("change", function() {
				var b = $(this).val().toNumber(1, ballBox.cur.maxAmount);
				$(this).val(b);
				$($(this).parent().parent().nextAll().find(".bs")).each(function(c, d) {
					$(d).val(b)
				});
				chase.update()
			});
			$(":radio[name='chaseType']").live("change", function() {
				var b = $(":radio[name='chaseType']:checked").val();
				if (b == "normal") {
					$("#chaseCondi_normal").show();
					$("#chaseCondi_smart").hide();
					chase.reset()
				} else {
					$("#chaseCondi_smart").show();
					$("#chaseCondi_normal").hide();
					chase.calMultiple()
				}
				$("#ChaseIssuseCount").val(1)
			});
			this.multipleInput(true)
		} else {
			$(".play-step:eq(1)").hide();
			$("#QuickIssuse b").die("click");
			$("#IssuseListContanior li input[type='checkbox']").die("change");
			$("#check_allissuse").die("change");
			$("#IssuseListContanior li .bs").die("change");
			$(":radio[name='chaseType']").die("change");
			this.multipleInput(false)
		}
	}
};
var hemai = {
	isHemai: false,
	reset: function() {
		document.getElementsByName("zgdx")[0].onclick();
		document.getElementsByName("Secret")[0].onclick();
		$("#project_title").val(gameName + "第" + betTime.period + "期").attr("title", gameName + "第" + betTime.period + "期");
		$("#project_description").text("一起玩，中大奖！");
		this.calInvestment()
	},
	calInvestment: function() {
		if (!this.isHemai) {
			return
		}
		var b = bet.sumcount * ballBox.cur.radix * bet.amount;
		if (window.location.href.toLowerCase().indexOf("danchang3") < 0 && window.location.href.toLowerCase().indexOf("jingcai3") < 0) {
			if ($("#spanViewPrice")) {
				$("#spanViewPrice").text("1～" + Math.min(6, Math.max(1, Math.floor(b * 0.2))) + "元，最高方案金额的20%，6元封顶")
			}
		} else {
			if ($("#spanViewPrice")) {
				$("#spanViewPrice").text("1～" + Math.min(6, Math.max(1, Math.floor(b * 0.2))) + "元")
			}
		}
		var f = 0;
		var e = b;
		f = e > 0 ? b / e : 0;
		document.getElementById("splitCountPercent").innerHTML = f;
		document.getElementById("splitCount").value = f > 0 ? b / f : 0;
		var c = new Number(document.getElementById("masterBuy").value);
		if (f > 0 && c > 0 && c <= e) {
			document.getElementById("masterBuy").value = (c).toFixed(0);
			document.getElementById("masterBuy_percent").innerHTML = Math.floor((c * f / b) * 10000) / 100 + "%"
		} else {
			document.getElementById("masterBuy").value = "";
			document.getElementById("masterBuy_percent").innerHTML = "0%"
		}
		if (document.getElementsByName("baodiAll")[0].checked) {
			document.getElementById("baodi").value = b - c
		}
		var a = new Number(document.getElementById("baodi").value);
		if (a > 0 && a + c <= e) {
			document.getElementById("baodi").value = (a).toFixed(0);
			document.getElementById("baodi_percent").innerHTML = Math.floor((a * f / b) * 10000) / 100 + "%"
		} else {
			document.getElementById("baodi").value = "";
			document.getElementById("baodi_percent").innerHTML = "0%"
		}
		var d = (document.getElementById("masterBuy").value == "" ? 0 : parseInt(document.getElementById("masterBuy").value)) + (document.getElementById("baodi").value == "" ? 0 : parseInt(document.getElementById("baodi").value));
		$("#needMoney").text(d)
	},
	SelectRadio: function(b, f) {
		var c = document.getElementsByName(b);
		for (var a = 0; a < c.length; a++) {
			c[a].parentNode.className = ""
		}
		f.parentNode.className = "red";
		var e = document.getElementsByName("Secret");
		var d = "0";
		for (var a = 0; a < e.length; a++) {
			if (e[a].checked) {
				d = e[a].value
			}
		}
	},
	isPassWordBuy: function(a) {
		if (a.value.replace(/\w/g, "").length != 0) {
			a.value = "";
			alertTip("密码只为为数字、字母以及下划线组合");
			return
		}
	},
	leftword: function(c, d, f) {
		var a, b;
		a = c.value;
		b = a.length;
		var e = f - b;
		if (e >= 0) {
			$("#" + d).html(e)
		}
	},
	init: function(a) {
		if ($(a).is(":checked")) {
			this.isHemai = true;
			ele.buyHm.show();
			ele.buyDg.hide();
			ele.buyChase.hide();
			this.reset();
			chase.isChase = false
		} else {
			this.isHemai = false
		}
	}
};
var save = {
	isSave: false,
	init: function() {
		this.isSave = document.getElementById("check_issave").checked;
		if (this.isSave) {
			document.getElementById("check_ischase").checked = false;
			hemai.init();
			document.getElementById("check_ishemai").checked = false;
			chase.init()
		}
	}
};
var betHistory = {
	loadType: "userbetlist",
	loadData: function(a, b) {
		a = a ? a : 0;
		b = b ? b : 10;
		user.isLogin(function(c) {
			if (!c) {
				$("#userMoneyInfo").html('<span>您尚未登录，请先<a id="betinfo_login" href="javascript:void(0);">登录</a></span>');
				$("#betHistory_login,#betinfo_login").click(function() {
					user.LoginCallBack = function() {
						setTimeout("betHistory.loadData()", 1000);
						setTimeout(function() {
							$("#userMoneyInfo").html('<span>您好，<a href="/member/account" target="_blank">' + user.info.displayName + '</a>。账户余额：<em class="red">' + Math.formatFloat(user.info.balance, 2) + "</em> 元</span>")
						}, 1000 * 3)
					};
					loginDialog.Show();
					$("#userName").focus();
					return false
				})
			} else {
				$("#game_myplay").load("/buy/" + betHistory.loadType + "/" + gameCode + "?pageNo=" + a + "&pageSize=" + b + "&r=" + Math.random())
			}
		})
	},
	bind: function() {
		$("#game_bethistory .my_tab li:eq(0) a").click(function() {
			if ($(this).attr("class") != "cur") {
				$(this).attr("class", "cur");
				$("#historymore").attr("href", "/member/betorder");
				$("#game_bethistory .my_tab li:eq(1) a").removeAttr("class");
				betHistory.loadType = "userbetlist";
				betHistory.loadData()
			}
		});
		$("#game_bethistory .my_tab li:eq(1) a").click(function() {
			if ($(this).attr("class") != "cur") {
				$(this).attr("class", "cur");
				$("#historymore").attr("href", "/member/chaseorder");
				$("#game_bethistory .my_tab li:eq(0) a").removeAttr("class");
				betHistory.loadType = "userchaselist";
				betHistory.loadData()
			}
		})
	},
	init: function() {
		this.bind()
	}
};
var lostBet = {
	onLostClick: function(a) {
		this.selectNumber($(a))
	},
	selectNumber: function(k) {
		var f = k.text();
		var c = k.attr("gameType");
		var a = f.split(",");
		var h = $(".ballrow");
		if (["1XDX", "2XDX", "3XDX", "2XHZ", "3XHZ", "RX1", "Q2ZHIX", "Q3ZHIX", "S1", "S2", "S3", "FS"].indexOf(ballBox.cur.type) < 0) {
			alertTip("该玩法不支持遗漏投注！", "err");
			return false
		}
		if (ballBox.cur.type != c) {
			alertTip("当前玩法不匹配，请切换玩法！", "err");
			return
		}
		for (var d = 0; d < h.length; d++) {
			var g = h[d];
			var b = $(g).find(".numbers b");
			b.removeClass("selected_red");
			for (var e = 0; e < b.length; e++) {
				if ($(b[e]).text() != a[d]) {
					continue
				}
				$(b[e]).click()
			}
		}
	},
	init: function() {
		var b = this;
		var a = $(".play-type a");
		$(a).live("click", function() {
			_self = $(this);
			var c = _self.attr("op");
			if (c == "open") {
				$("#DIV_ContainerStandardYiLou").slideDown("fast");
				_self.parent().addClass("on").siblings().removeClass("on")
			} else {
				$("#DIV_ContainerStandardYiLou").slideUp("fast");
				_self.parent().addClass("on").siblings().removeClass("on")
			}
		});
		$(".lost_bet").live("click", function() {
			b.onLostClick(this)
		})
	}
};
var betUserLogin = {
	login: function() {
		user.isLogin(function(a) {
			if (!a) {
				loginDialog.Show();
				$("#userName").focus()
			}
		})
	}
};

function pageClick() {
	$("#project_title").blur()
}
$(window).ready(function() {
	ballBox.init();
	bet.init();
	lottery.init();
	betTime.loadTime();
	lostBet.init();
	$("#againtz").attr("checked", 0);
	setTimeout("betHistory.init()", 1000)
});

function SaveTips(a) {
	if (a.getAttribute("tips") == "") {
		a.setAttribute("tips", "<div style='width:400px;border:1px solid #EB6502;background-color:#FEEDDD;padding:5px;line-height:20px;'>免费保存是指将方案寄存到我的账户中，方便在方案截止前随时付款购买。</div>")
	}
	tip.show(a)
}
function Loadtimer() {
	setTimeout("Loadtimer()", 10000)
}
function GetServerTime() {
	var a = null;
	$.ajax({
		type: "POST",
		url: "/home/getServerTime",
		cache: false,
		async: false,
		dataType: "json",
		success: function(b) {
			a = b.servertime
		}
	});
	return a
}
function GetServerTime1() {
	$.ajax({
		type: "get",
		async: false,
		url: "http://localhost:999/home/GetServerTime",
		dataType: "jsonp",
		cache: false,
		jsonpCallback: "callback",
		success: function(a) {
			var b = a.servertime
		},
		error: function() {}
	})
}
function callback(a) {
	console.log(a.servertime);
	console.log("betTime.stopdate:" + betTime.stopdate);
	var b = GetDateDiff(a.servertime, betTime.stopdate, "second");
	console.log("time1:" + b);
	if (b != betTime.awardtime) {
		betTime.awardtime = b;
		betTime.time = betTime.awardtime - 60;
		console.log("betTime.time:" + betTime.time)
	}
}
function GetDateDiff(d, c, a) {
	a = a.toLowerCase();
	var b = 1;
	switch (a) {
	case "millisecond":
		b = 1;
		break;
	case "second":
		b = 1000;
		break;
	case "minute":
		b = 1000 * 60;
		break;
	case "hour":
		b = 1000 * 3600;
		break;
	case "day":
		b = 1000 * 3600 * 24;
		break;
	default:
		break
	}
	return parseInt((c.getTime() - d.getTime()) / parseInt(b))
}
function checkFixed(d) {
	var f = d + "";
	var c = f.indexOf(".");
	var e = "";
	if (c == -1) {
		e = d.toFixed(2)
	} else {
		var a = f.substring(c + 1, f.length);
		if (a.length >= 3) {
			var b = f.substring(0, c + 3);
			e = (Number(b))
		} else {
			e = d.toFixed(2)
		}
	}
	return e
};